<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib"
                    xmlns:win="clr-namespace:System.Windows;assembly=PresentationFramework"
                    xmlns:primitives="clr-namespace:System.Windows.Controls.Primitives;assembly=PresentationFramework"
                    xmlns:core="clr-namespace:DCM.Core.Models;assembly=DCM.Core"
                    xmlns:conv="clr-namespace:DCM.App.Infrastructure.Converters"
                    xmlns:ap="clr-namespace:DCM.App.Infrastructure.AttachedProperties">

  <ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="Theme.Standard.Base.Tokens.xaml"/>
    <ResourceDictionary Source="Theme.Standard.Tokens.Light.xaml"/>
    <ResourceDictionary Source="Theme.Standard.Base.Layout.xaml"/>
  </ResourceDictionary.MergedDictionaries>

  <conv:IsStringToVisibilityConverter x:Key="IsStringToVisibilityConverter"/>

  <!-- =================================================================== -->
  <!-- SHARED RESOURCES (safe dedup, no breaking changes)                    -->
  <!-- =================================================================== -->

  <!-- Validation error template (used by TextBox + ComboBox) -->
  <ControlTemplate x:Key="ValidationErrorTemplate">
    <Grid>
      <AdornedElementPlaceholder x:Name="placeholder"/>
      <Border BorderBrush="{DynamicResource DangerBrush}"
              BorderThickness="1"
              CornerRadius="{DynamicResource RadiusS}"
              Margin="-1"/>
    </Grid>
  </ControlTemplate>

  <!-- Common button base (no template, just shared setters) -->
  <Style x:Key="ButtonBaseCommon"
         TargetType="Button">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="SnapsToDevicePixels"
            Value="True"/>
  </Style>

  <!-- Common border+content template helper for many buttons -->
  <ControlTemplate x:Key="ButtonTemplateRadiusS"
                   TargetType="Button">
    <Border x:Name="border"
            Background="{TemplateBinding Background}"
            BorderBrush="{TemplateBinding BorderBrush}"
            BorderThickness="{TemplateBinding BorderThickness}"
            CornerRadius="{DynamicResource RadiusS}"
            Padding="{TemplateBinding Padding}">
      <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
    </Border>
  </ControlTemplate>

  <ControlTemplate x:Key="ButtonTemplateRadiusXL"
                   TargetType="Button">
    <Border x:Name="border"
            Background="{TemplateBinding Background}"
            BorderBrush="{TemplateBinding BorderBrush}"
            BorderThickness="{TemplateBinding BorderThickness}"
            CornerRadius="{DynamicResource RadiusXL}"
            Padding="{TemplateBinding Padding}">
      <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
    </Border>
  </ControlTemplate>

  <!-- =================================================================== -->
  <!-- TOOLTIP STYLE (app-wide dark theme tooltip)                          -->
  <!-- =================================================================== -->

  <Style TargetType="ToolTip">
    <Setter Property="Background"
            Value="{DynamicResource SurfaceElevatedBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="Padding"
            Value="10,6"/>
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeS}"/>
    <Setter Property="MaxWidth"
            Value="320"/>
    <Setter Property="HasDropShadow"
            Value="False"/>
    <Setter Property="Placement"
            Value="Mouse"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ToolTip">
          <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="{DynamicResource RadiusS}"
                  Padding="{TemplateBinding Padding}"
                  SnapsToDevicePixels="True"
                  IsHitTestVisible="False">
            <TextBlock Text="{TemplateBinding Content}"
                       Foreground="{TemplateBinding Foreground}"
                       TextWrapping="Wrap"
                       IsHitTestVisible="False"/>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ToolTipService defaults for faster tooltips -->
  <Style TargetType="FrameworkElement">
    <Setter Property="ToolTipService.InitialShowDelay"
            Value="100"/>
    <Setter Property="ToolTipService.ShowDuration"
            Value="10000"/>
    <Setter Property="ToolTipService.BetweenShowDelay"
            Value="0"/>
  </Style>

  <!-- =================================================================== -->
  <!-- COMPONENT STYLES (reusable UI patterns)                               -->
  <!-- =================================================================== -->

  <!-- Master-Detail Divider (used by Upload, Accounts, Presets views) -->
  <Style x:Key="MasterDetailDivider"
         TargetType="Border">
    <Setter Property="Width"
            Value="1"/>
    <Setter Property="Background"
            Value="{DynamicResource ListDividerBrush}"/>
    <Setter Property="VerticalAlignment"
            Value="Stretch"/>
    <Setter Property="HorizontalAlignment"
            Value="Stretch"/>
    <Setter Property="Margin"
            Value="0,8"/>
    <Setter Property="SnapsToDevicePixels"
            Value="True"/>
  </Style>

  <!-- Sidebar Navigation Button -->
  <Style x:Key="SidebarNavButton"
         TargetType="RadioButton">
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextMutedBrush}"/>
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="Padding"
            Value="{DynamicResource SidebarItemPadding}"/>
    <Setter Property="Margin"
            Value="{DynamicResource SidebarItemMargin}"/>
    <Setter Property="MinHeight"
            Value="58"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="RadioButton">
          <Border x:Name="border"
                  Background="{TemplateBinding Background}"
                  BorderThickness="0"
                  BorderBrush="Transparent"
                  CornerRadius="{DynamicResource RadiusL}"
                  Padding="{TemplateBinding Padding}">
            <Grid>
              <Border x:Name="activeIndicator"
                      Width="3"
                      Height="28"
                      HorizontalAlignment="Left"
                      VerticalAlignment="Center"
                      Background="{DynamicResource PrimaryBrush}"
                      CornerRadius="2"
                      Opacity="0"/>
              <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="Center"/>
            </Grid>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter Property="Foreground"
                      Value="{DynamicResource TextSecondaryBrush}"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SidebarHoverBrush}"/>
            </Trigger>
            <Trigger Property="IsChecked"
                     Value="True">
              <Setter Property="Foreground"
                      Value="{DynamicResource TextPrimaryBrush}"/>
              <Setter TargetName="activeIndicator"
                      Property="Opacity"
                      Value="1"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SidebarHoverBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- NEW: Sidebar section header (non-clickable) -->
  <Style x:Key="SidebarNavSectionHeader"
         TargetType="TextBlock">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeXS}"/>
    <Setter Property="FontWeight"
            Value="{DynamicResource FontWeightSemiBold}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextMutedBrush}"/>
    <Setter Property="Margin"
            Value="12,12,12,6"/>
    <Setter Property="Text"
            Value="SECTION"/>
  </Style>

  <!-- NEW: Sidebar sub navigation button (always visible, indented) -->
  <Style x:Key="SidebarNavSubButton"
         TargetType="RadioButton"
         BasedOn="{StaticResource SidebarNavButton}">
    <Setter Property="Padding"
            Value="6,10"/>
    <Setter Property="Margin"
            Value="6,4"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="RadioButton">
          <Border x:Name="border"
                  Background="{TemplateBinding Background}"
                  BorderThickness="1,0,0,0"
                  BorderBrush="Transparent"
                  CornerRadius="{DynamicResource RadiusL}"
                  Padding="{TemplateBinding Padding}">
            <Grid>

              <ContentPresenter Grid.Column="1"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="Center"/>
            </Grid>
          </Border>

          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter Property="Foreground"
                      Value="{DynamicResource TextSecondaryBrush}"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SidebarHoverBrush}"/>
            </Trigger>

            <Trigger Property="IsChecked"
                     Value="True">
              <Setter Property="Foreground"
                      Value="{DynamicResource TextPrimaryBrush}"/>
              <Setter TargetName="border"
                      Property="BorderBrush"
                      Value="{DynamicResource PrimaryBrush}"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SidebarHoverBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Top Navigation: Main Menu Button -->
  <Style x:Key="TopNavMainButton"
         TargetType="RadioButton">
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextMutedBrush}"/>
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="0,0,1,0"/>
    <Setter Property="Padding"
            Value="18,0"/>
    <Setter Property="Margin"
            Value="0"/>
    <Setter Property="MinWidth"
            Value="160"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="RadioButton">
          <Border x:Name="border"
                  Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}">
            <Grid>
              <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
              <Border x:Name="activeMarker"
                      Height="2"
                      Background="{DynamicResource PrimaryBrush}"
                      VerticalAlignment="Bottom"
                      Opacity="0"/>
            </Grid>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter Property="Foreground"
                      Value="{DynamicResource TextSecondaryBrush}"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SurfaceHoverBrush}"/>
            </Trigger>
            <Trigger Property="IsChecked"
                     Value="True">
              <Setter Property="Foreground"
                      Value="{DynamicResource TextPrimaryBrush}"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SurfacePressedBrush}"/>
              <Setter TargetName="activeMarker"
                      Property="Opacity"
                      Value="1"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Top Navigation: Sub Menu Button -->
  <Style x:Key="TopNavSubButton"
         TargetType="RadioButton">
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextMutedBrush}"/>
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeS}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="0,0,1,0"/>
    <Setter Property="Padding"
            Value="14,0"/>
    <Setter Property="MinHeight"
            Value="28"/>
    <Setter Property="MinWidth"
            Value="96"/>
    <Setter Property="Margin"
            Value="0"/>
    <Setter Property="VerticalAlignment"
            Value="Stretch"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="RadioButton">
          <Border x:Name="border"
                  Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}">
            <Grid>
              <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                Margin="{TemplateBinding Padding}"/>
              <Border x:Name="activeMarker"
                      Height="2"
                      Background="{DynamicResource PrimaryBrush}"
                      VerticalAlignment="Bottom"
                      Opacity="0"/>
            </Grid>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter Property="Foreground"
                      Value="{DynamicResource TextSecondaryBrush}"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SurfaceHoverBrush}"/>
            </Trigger>
            <Trigger Property="IsChecked"
                     Value="True">
              <Setter Property="Foreground"
                      Value="{DynamicResource TextPrimaryBrush}"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SurfacePressedBrush}"/>
              <Setter TargetName="activeMarker"
                      Property="Opacity"
                      Value="1"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- DROP ZONE STYLES -->

  <Style x:Key="DropZoneBaseStyle"
         TargetType="ContentControl">
    <Setter Property="Background"
            Value="{DynamicResource InputFocusBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="2"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="AllowDrop"
            Value="True"/>
    <Setter Property="SnapsToDevicePixels"
            Value="True"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ContentControl">
          <Border x:Name="DropZoneSurface"
                  Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="{DynamicResource RadiusL}"
                  SnapsToDevicePixels="True">
            <ContentPresenter/>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="DropZoneSurface"
                      Property="Background"
                      Value="{DynamicResource SurfaceHoverBrush}"/>
              <Setter Property="BorderBrush"
                      Value="{DynamicResource BorderHoverBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
              <Setter Property="Opacity"
                      Value="0.6"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Video Drop Zone Style -->
  <Style x:Key="VideoDropZoneStyle"
         TargetType="ContentControl"
         BasedOn="{StaticResource DropZoneBaseStyle}">
    <Setter Property="MinHeight"
            Value="120"/>
  </Style>

  <!-- Thumbnail Drop Zone Style -->
  <Style x:Key="ThumbnailDropZoneStyle"
         TargetType="ContentControl"
         BasedOn="{StaticResource DropZoneBaseStyle}"/>

  <!-- =================================================================== -->
  <!-- SUGGESTION OVERLAY (UploadView)                                      -->
  <!-- =================================================================== -->

  <Style x:Key="SuggestionCloseButtonStyle"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="Width"
            Value="32"/>
    <Setter Property="Height"
            Value="24"/>
    <Setter Property="Padding"
            Value="0"/>
    <Setter Property="FontFamily"
            Value="{DynamicResource MaterialIconsFont}"/>
    <Setter Property="FontSize"
            Value="12"/>
    <Setter Property="Foreground"
            Value="{DynamicResource DangerBrush}"/>
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template"
            Value="{DynamicResource ButtonTemplateRadiusS}"/>
    <Style.Triggers>
      <!-- Using style triggers is safe here because we don't need to target named elements -->
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource DangerBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource PrimaryTextBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource AccentRedHoverBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource PrimaryTextBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <Style x:Key="SuggestionItemButtonStyle"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="Background"
            Value="{DynamicResource InputBackgroundBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="Padding"
            Value="10,8"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Left"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template"
            Value="{DynamicResource ButtonTemplatePill}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="BorderBrush"
                Value="{DynamicResource BorderHoverBrush}"/>
        <Setter Property="Background"
                Value="{DynamicResource SurfaceHoverBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfacePressedBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Opacity"
                Value="0.6"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- PLATFORM TOGGLE BUTTON -->
  <Style x:Key="PlatformToggleButton"
         TargetType="ToggleButton">
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="Margin"
            Value="0,0,8,0"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ToggleButton">
          <Border x:Name="PlatformBorder"
                  Width="90"
                  Height="60"
                  CornerRadius="{DynamicResource RadiusM}"
                  BorderThickness="1"
                  BorderBrush="{DynamicResource BorderBrush}"
                  Background="{DynamicResource SurfaceBrush}">
            <Grid>
              <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
              <Border x:Name="CheckOverlay"
                      Background="{DynamicResource SuccessOverlayBrush}"
                      CornerRadius="{DynamicResource RadiusM}"
                      Visibility="Collapsed">
                <TextBlock Text="{DynamicResource Common.OK}"
                           FontSize="{DynamicResource FontSizeL}"
                           FontWeight="Bold"
                           Foreground="{DynamicResource SuccessBrush}"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Top"
                           Margin="0,4,6,0"/>
              </Border>
            </Grid>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsChecked"
                     Value="True">
              <Setter TargetName="PlatformBorder"
                      Property="BorderBrush"
                      Value="{DynamicResource SuccessBrush}"/>
              <Setter TargetName="PlatformBorder"
                      Property="Background"
                      Value="{DynamicResource SuccessSelectedBrush}"/>
              <Setter TargetName="CheckOverlay"
                      Property="Visibility"
                      Value="Visible"/>
            </Trigger>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="PlatformBorder"
                      Property="Background"
                      Value="{DynamicResource SurfaceLightBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
              <Setter Property="Opacity"
                      Value="0.4"/>
              <Setter Property="Cursor"
                      Value="Arrow"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- =================================================================== -->
  <!-- BUTTON STYLES                                                       -->
  <!-- =================================================================== -->

  <ControlTemplate x:Key="ButtonTemplatePill"
                   TargetType="Button">
    <Border x:Name="outerBorder"
            Background="{TemplateBinding Background}"
            BorderBrush="{TemplateBinding BorderBrush}"
            BorderThickness="{TemplateBinding BorderThickness}"
            CornerRadius="4"
            Padding="{TemplateBinding Padding}">
      <Grid>
        <Grid x:Name="IconTextLayout"
              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
              VerticalAlignment="Center"
              Visibility="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Content, Converter={StaticResource IsStringToVisibilityConverter}}">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <TextBlock Grid.Column="0"
                     FontFamily="{DynamicResource MaterialIconsFont}"
                     FontSize="{DynamicResource FontSizeL}"
                     Foreground="{TemplateBinding Foreground}"
                     Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=(ap:ButtonIcon.Glyph)}"
                     Margin="0,0,6,0"
                     Visibility="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=(ap:ButtonIcon.Glyph), Converter={StaticResource IsStringToVisibilityConverter}}"
                     VerticalAlignment="Center"/>
          <TextBlock Grid.Column="1"
                     Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Content}"
                     Foreground="{TemplateBinding Foreground}"
                     VerticalAlignment="Center"/>
        </Grid>
        <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                          Visibility="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Content, Converter={StaticResource IsStringToVisibilityConverter}, ConverterParameter=invert}"/>
      </Grid>
    </Border>
  </ControlTemplate>

  <!-- Primary Button -->
  <Style x:Key="PrimaryButton"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="HorizontalAlignment"
            Value="Left"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="{DynamicResource PrimaryBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource PrimaryTextBrush}"/>
    <Setter Property="FontWeight"
            Value="{DynamicResource FontWeightSemiBold}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource PrimaryPressedBrush}"/>
    <Setter Property="Padding"
            Value="{DynamicResource ButtonPaddingM}"/>
    <Setter Property="MinHeight"
            Value="{DynamicResource ControlMinHeightM}"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template"
            Value="{DynamicResource ButtonTemplatePill}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource PrimaryHoverBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource PrimaryHoverBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource PrimaryPressedBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource PrimaryPressedBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Background"
                Value="{DynamicResource DisabledBackgroundBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource DisabledBorderBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource TextDisabledBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- Primary Button Large - for main actions like "Start Upload" -->
  <Style x:Key="PrimaryButtonLarge"
         TargetType="Button"
         BasedOn="{StaticResource PrimaryButton}">
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeL}"/>
    <Setter Property="Padding"
            Value="{DynamicResource ButtonPaddingL}"/>
    <Setter Property="MinHeight"
            Value="{DynamicResource ControlMinHeightL}"/>
    <Setter Property="MinWidth"
            Value="{DynamicResource ButtonMinWidthL}"/>
  </Style>

  <!-- Secondary Button -->
  <Style x:Key="SecondaryButton"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="HorizontalAlignment"
            Value="Left"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="{DynamicResource SurfaceLightBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderStrongBrush}"/>
    <Setter Property="Padding"
            Value="{DynamicResource ButtonPaddingM}"/>
    <Setter Property="MinHeight"
            Value="{DynamicResource ControlMinHeightM}"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template"
            Value="{DynamicResource ButtonTemplatePill}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource BorderHoverBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource BorderStrongBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfacePressedBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Background"
                Value="{DynamicResource DisabledBackgroundBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource DisabledBorderBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource TextDisabledBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- Tertiary Button - subtle, text-based button for secondary actions -->
  <Style x:Key="TertiaryButton"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="HorizontalAlignment"
            Value="Left"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextSecondaryBrush}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="Padding"
            Value="{DynamicResource ButtonPaddingS}"/>
    <Setter Property="MinHeight"
            Value="{DynamicResource ControlMinHeightS}"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template"
            Value="{DynamicResource ButtonTemplatePill}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfaceHoverBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource TextPrimaryBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfacePressedBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Foreground"
                Value="{DynamicResource TextDisabledBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- Link Button - for text links -->
  <Style x:Key="LinkButton"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="HorizontalAlignment"
            Value="Left"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="Foreground"
            Value="{DynamicResource PrimaryBrush}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="Padding"
            Value="0"/>
    <Setter Property="MinHeight"
            Value="0"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Button">
          <TextBlock x:Name="ContentText"
                     Text="{TemplateBinding Content}"
                     Foreground="{TemplateBinding Foreground}"
                     TextDecorations="Underline"
                     Padding="{TemplateBinding Padding}"/>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="ContentText"
                      Property="Foreground"
                      Value="{DynamicResource PrimaryHoverBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
              <Setter TargetName="ContentText"
                      Property="Foreground"
                      Value="{DynamicResource TextDisabledBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Danger Button -->
  <Style x:Key="DangerButton"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="HorizontalAlignment"
            Value="Left"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="{DynamicResource DangerBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource PrimaryTextBrush}"/>
    <Setter Property="FontWeight"
            Value="{DynamicResource FontWeightSemiBold}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource AccentRedBrush}"/>
    <Setter Property="Padding"
            Value="{DynamicResource ButtonPaddingM}"/>
    <Setter Property="MinHeight"
            Value="{DynamicResource ControlMinHeightM}"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template"
            Value="{DynamicResource ButtonTemplatePill}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource AccentRedHoverBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource AccentRedHoverBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource AccentRedBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource AccentRedBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Background"
                Value="{DynamicResource DisabledBackgroundBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource DisabledBorderBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource TextDisabledBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- Accent Button (Pill-Style mit Rand) -->
  <Style x:Key="AccentButton"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="HorizontalAlignment"
            Value="Left"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="{DynamicResource SurfaceBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="Padding"
            Value="{DynamicResource ButtonPaddingM}"/>
    <Setter Property="MinHeight"
            Value="{DynamicResource ControlMinHeightM}"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template"
            Value="{DynamicResource ButtonTemplatePill}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfaceLightBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource AccentRedBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource InputBackgroundBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Background"
                Value="{DynamicResource DisabledBackgroundBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource DisabledBorderBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource TextDisabledBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- =================================================================== -->
  <!-- GROUPBOX / CARDS                                                    -->
  <!-- =================================================================== -->

  <!-- MODERN GROUPBOX (Card Style) -->
  <!-- Option 1: Minimalistischer Header - Header IN der Card, dezent, kompakt -->
  <Style x:Key="ModernGroupBox"
         TargetType="GroupBox">
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="Padding"
            Value="10,8"/>
    <Setter Property="Margin"
            Value="0,0,0,12"/>

    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="GroupBox">
          <!-- Alles in einer Card -->
          <Border x:Name="PART_Border"
                  Background="{DynamicResource SurfaceElevatedBrush}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="{DynamicResource RadiusM}"
                  SnapsToDevicePixels="True">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- Header -->
                <RowDefinition Height="Auto"/>
                <!-- Separator -->
                <RowDefinition Height="*"/>
                <!-- Content -->
              </Grid.RowDefinitions>

              <!-- Header (IN der Card, dezent) -->
              <ContentPresenter Grid.Row="0"
                                ContentSource="Header"
                                RecognizesAccessKey="True"
                                Margin="10,8,10,6"
                                HorizontalAlignment="Stretch">
                <ContentPresenter.Resources>
                  <Style TargetType="TextBlock" BasedOn="{StaticResource SectionHeader}"/>
                </ContentPresenter.Resources>
              </ContentPresenter>

              <!-- Dezente Trennlinie -->
              <Border Grid.Row="1"
                      Height="1"
                      Margin="8,0"
                      Background="{DynamicResource BorderBrush}"
                      Opacity="0.4"
                      SnapsToDevicePixels="True"/>

              <!-- Content -->
              <ContentPresenter Grid.Row="2"
                                Margin="{TemplateBinding Padding}"/>
            </Grid>
          </Border>

          <!-- TRIGGERS -->
          <ControlTemplate.Triggers>
            <!-- HOVER -->
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="PART_Border"
                      Property="BorderBrush"
                      Value="{DynamicResource BorderStrongBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style x:Key="SurfaceCard"
         TargetType="Border">
    <Setter Property="Background"
            Value="{DynamicResource SurfaceElevatedBrush}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="CornerRadius"
            Value="{DynamicResource RadiusL}"/>
    <Setter Property="Padding"
            Value="{DynamicResource CardPaddingM}"/>
  </Style>

  <!-- Section Card - für einzelne Abschnitte innerhalb einer View -->
  <Style x:Key="SectionCard"
         TargetType="Border">
    <Setter Property="Background"
            Value="{DynamicResource SurfaceElevatedBrush}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="CornerRadius"
            Value="{DynamicResource RadiusM}"/>
    <Setter Property="Padding"
            Value="{DynamicResource CardPaddingL}"/>
    <Setter Property="Margin"
            Value="{DynamicResource SectionMarginTop}"/>
  </Style>

  <!-- Compact Card - für Listen-Items etc. -->
  <Style x:Key="CompactCard"
         TargetType="Border">
    <Setter Property="Background"
            Value="{DynamicResource SurfaceElevatedBrush}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="CornerRadius"
            Value="{DynamicResource RadiusS}"/>
    <Setter Property="Padding"
            Value="{DynamicResource PaddingCompact}"/>
  </Style>

  <!-- GroupBox (basiert auf ModernGroupBox) -->
  <Style TargetType="GroupBox"
         BasedOn="{StaticResource ModernGroupBox}"/>

  <Style x:Key="SettingsSectionGroupBox"
         TargetType="GroupBox"
         BasedOn="{StaticResource ModernGroupBox}">
    <Setter Property="Margin"
            Value="{DynamicResource SettingsSectionSpacing}"/>
    <Setter Property="HorizontalAlignment"
            Value="Stretch"/>
  </Style>

  <Style x:Key="SettingsSectionGroupBox.Compact"
         TargetType="GroupBox"
         BasedOn="{StaticResource ModernGroupBox}">
    <Setter Property="Margin"
            Value="{DynamicResource SettingsSectionSpacingCompact}"/>
  </Style>

  <Style x:Key="SettingsColumnStackStyle"
         TargetType="StackPanel">
    <Setter Property="VerticalAlignment"
            Value="Top"/>
  </Style>

  <!-- =================================================================== -->
  <!-- GLOBAL DEFAULT STYLES                                               -->
  <!-- =================================================================== -->

  <!-- Window -->
  <Style TargetType="Window">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="{DynamicResource BackgroundBrush}"/>
  </Style>

  <!-- TextBlock -->
  <Style TargetType="TextBlock">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
  </Style>

  <!-- Label -->
  <Style TargetType="Label">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextSecondaryBrush}"/>
    <Setter Property="Padding"
            Value="0"/>
    <Setter Property="VerticalAlignment"
            Value="Center"/>
  </Style>

  <!-- =================================================================== -->
  <!-- INPUT CONTROLS                                                      -->
  <!-- =================================================================== -->

  <!-- TextBox mit Error-State -->
  <Style TargetType="TextBox">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="{DynamicResource InputBackgroundBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="{DynamicResource BorderThickness1}"/>
    <Setter Property="Padding"
            Value="{DynamicResource InputPaddingM}"/>
    <Setter Property="CaretBrush"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="SelectionBrush"
            Value="{DynamicResource PrimaryBrush}"/>
    <Setter Property="SnapsToDevicePixels"
            Value="True"/>
    <Setter Property="TextWrapping"
            Value="Wrap"/>
    <Setter Property="VerticalScrollBarVisibility"
            Value="Disabled"/>
    <Setter Property="MinHeight"
            Value="{DynamicResource InputMinHeight}"/>
    <Setter Property="Height"
            Value="Auto"/>
    <Setter Property="Validation.ErrorTemplate"
            Value="{DynamicResource ValidationErrorTemplate}"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="TextBox">
          <Border x:Name="border"
                  Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="{DynamicResource RadiusM}">
            <ScrollViewer x:Name="PART_ContentHost"
                          Margin="{TemplateBinding Padding}"
                          VerticalScrollBarVisibility="{TemplateBinding VerticalScrollBarVisibility}"/>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="border"
                      Property="BorderBrush"
                      Value="{DynamicResource BorderHoverBrush}"/>
            </Trigger>
            <Trigger Property="IsFocused"
                     Value="True">
              <Setter TargetName="border"
                      Property="BorderBrush"
                      Value="{DynamicResource PrimaryBrush}"/>
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource InputFocusBrush}"/>
            </Trigger>
            <Trigger Property="IsReadOnly"
                     Value="True">
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SurfaceBrush}"/>
              <Setter Property="Foreground"
                      Value="{DynamicResource TextSecondaryBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource DisabledBackgroundBrush}"/>
              <Setter TargetName="border"
                      Property="BorderBrush"
                      Value="{DynamicResource DisabledBorderBrush}"/>
              <Setter Property="Foreground"
                      Value="{DynamicResource TextDisabledBrush}"/>
            </Trigger>
            <Trigger Property="Validation.HasError"
                     Value="True">
              <Setter TargetName="border"
                      Property="BorderBrush"
                      Value="{DynamicResource DangerBrush}"/>
              <Setter TargetName="border"
                      Property="BorderThickness"
                      Value="1"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ComboBox mit Error-State -->
  <Style TargetType="ComboBox">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="{DynamicResource InputBackgroundBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="{DynamicResource BorderThickness1}"/>
    <Setter Property="Padding"
            Value="{DynamicResource InputPaddingM}"/>
    <Setter Property="MinHeight"
            Value="{DynamicResource InputMinHeight}"/>
    <Setter Property="SnapsToDevicePixels"
            Value="True"/>
    <Setter Property="Validation.ErrorTemplate"
            Value="{DynamicResource ValidationErrorTemplate}"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ComboBox">
          <Grid>
            <Border x:Name="Border"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="{DynamicResource RadiusM}">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <ContentPresenter x:Name="ContentSite"
                                  Grid.Column="0"
                                  Content="{TemplateBinding SelectionBoxItem}"
                                  ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                  Margin="8,0,0,0"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Left"
                                  IsHitTestVisible="False"/>

                <TextBox x:Name="PART_EditableTextBox"
                         Grid.Column="0"
                         Visibility="Hidden"
                         IsReadOnly="{TemplateBinding IsReadOnly}"
                         Background="Transparent"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         CaretBrush="{DynamicResource TextPrimaryBrush}"
                         BorderThickness="0"
                         Margin="8,0,0,0"
                         VerticalAlignment="Center"/>

                <TextBlock Grid.Column="1"
                           Style="{DynamicResource IconL}"
                           Text="&#xe313;"
                           Margin="0,0,6,0"
                           VerticalAlignment="Center"/>
              </Grid>
            </Border>

            <ToggleButton x:Name="ToggleButton"
                          Focusable="False"
                          IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                          ClickMode="Press"
                          Background="Transparent"
                          BorderThickness="0"
                          Opacity="0"/>

            <Popup x:Name="Popup"
                   Placement="Bottom"
                   IsOpen="{TemplateBinding IsDropDownOpen}"
                   AllowsTransparency="True"
                   Focusable="False"
                   PopupAnimation="Slide">
              <Grid x:Name="DropDown"
                    SnapsToDevicePixels="True"
                    MinWidth="{TemplateBinding ActualWidth}"
                    MaxHeight="{TemplateBinding MaxDropDownHeight}">
                <Border x:Name="DropDownBorder"
                        Background="{DynamicResource SurfaceBrush}"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1"
                        CornerRadius="{DynamicResource RadiusS}"
                        Margin="0,2,0,0">
                  <ScrollViewer Margin="4"
                                SnapsToDevicePixels="True">
                    <StackPanel IsItemsHost="True"
                                KeyboardNavigation.DirectionalNavigation="Contained"/>
                  </ScrollViewer>
                </Border>
              </Grid>
            </Popup>
          </Grid>

          <ControlTemplate.Triggers>
            <Trigger Property="IsEditable"
                     Value="True">
              <Setter TargetName="PART_EditableTextBox"
                      Property="Visibility"
                      Value="Visible"/>
              <Setter TargetName="ContentSite"
                      Property="Visibility"
                      Value="Hidden"/>
            </Trigger>

            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="Border"
                      Property="BorderBrush"
                      Value="{DynamicResource TextMutedBrush}"/>
            </Trigger>

            <Trigger Property="IsDropDownOpen"
                     Value="True">
              <Setter TargetName="Border"
                      Property="BorderBrush"
                      Value="{DynamicResource PrimaryBrush}"/>
              <Setter TargetName="Border"
                      Property="Background"
                      Value="{DynamicResource InputFocusBrush}"/>
            </Trigger>

            <Trigger Property="IsEnabled"
                     Value="False">
              <Setter TargetName="Border"
                      Property="Background"
                      Value="{DynamicResource DisabledBackgroundBrush}"/>
              <Setter TargetName="Border"
                      Property="BorderBrush"
                      Value="{DynamicResource DisabledBorderBrush}"/>
              <Setter Property="Foreground"
                      Value="{DynamicResource TextDisabledBrush}"/>
            </Trigger>

            <Trigger Property="Validation.HasError"
                     Value="True">
              <Setter TargetName="Border"
                      Property="BorderBrush"
                      Value="{DynamicResource DangerBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ComboBoxItem -->
  <Style TargetType="ComboBoxItem">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="Padding"
            Value="8,6"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="SnapsToDevicePixels"
            Value="True"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ComboBoxItem">
          <Border x:Name="border"
                  Background="{TemplateBinding Background}"
                  Padding="{TemplateBinding Padding}"
                  CornerRadius="2">
            <ContentPresenter/>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsHighlighted"
                     Value="True">
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SurfaceLightBrush}"/>
            </Trigger>
            <Trigger Property="IsSelected"
                     Value="True">
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource SurfaceLightBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- DatePicker -->
  <Style TargetType="DatePicker">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="Background"
            Value="{DynamicResource InputBackgroundBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="Padding"
            Value="2"/>
    <Setter Property="IsTodayHighlighted"
            Value="True"/>
    <Setter Property="SelectedDateFormat"
            Value="Short"/>
    <Setter Property="CalendarStyle">
      <Setter.Value>
        <Style TargetType="Calendar"
               BasedOn="{StaticResource {x:Type Calendar}}">
          <Setter Property="Background"
                  Value="{DynamicResource SurfaceBrush}"/>
          <Setter Property="Foreground"
                  Value="{DynamicResource TextPrimaryBrush}"/>
          <Setter Property="BorderBrush"
                  Value="{DynamicResource BorderBrush}"/>
        </Style>
      </Setter.Value>
    </Setter>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="DatePicker">
          <Border x:Name="border"
                  Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="{DynamicResource RadiusS}"
                  Padding="{TemplateBinding Padding}">
            <Grid x:Name="PART_Root">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="32"/>
              </Grid.ColumnDefinitions>
              <DatePickerTextBox x:Name="PART_TextBox"
                                 Grid.Column="0"
                                 Focusable="{TemplateBinding Focusable}"
                                 VerticalAlignment="Center"/>
              <ToggleButton x:Name="PART_Button"
                            Grid.Column="1"
                            Focusable="False"
                            Background="Transparent"
                            BorderBrush="{x:Null}"
                            BorderThickness="0"
                            Padding="0"
                            IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                <TextBlock Style="{DynamicResource IconXL}"
                           Text="&#xebcc;"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
              </ToggleButton>
              <Popup x:Name="PART_Popup"
                     PlacementTarget="{Binding ElementName=PART_Button}"
                     Placement="Bottom"
                     StaysOpen="False"
                     AllowsTransparency="True"
                     IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}">
                <Border Background="{DynamicResource SurfaceBrush}"
                        BorderBrush="{DynamicResource BorderBrush}"
                        BorderThickness="1"
                        CornerRadius="{DynamicResource RadiusS}">
                  <Calendar x:Name="PART_Calendar"
                            Style="{TemplateBinding CalendarStyle}"
                            BorderThickness="0"
                            IsTodayHighlighted="{TemplateBinding IsTodayHighlighted}"
                            DisplayDateStart="{TemplateBinding DisplayDateStart}"
                            DisplayDateEnd="{TemplateBinding DisplayDateEnd}"
                            FirstDayOfWeek="{TemplateBinding FirstDayOfWeek}"
                            DisplayDate="{Binding DisplayDate, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                            SelectedDate="{Binding SelectedDate, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"/>
                </Border>
              </Popup>
            </Grid>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="border"
                      Property="BorderBrush"
                      Value="{DynamicResource TextMutedBrush}"/>
            </Trigger>
            <Trigger Property="IsKeyboardFocusWithin"
                     Value="True">
              <Setter TargetName="border"
                      Property="BorderBrush"
                      Value="{DynamicResource PrimaryBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
              <Setter TargetName="border"
                      Property="Background"
                      Value="{DynamicResource DisabledBackgroundBrush}"/>
              <Setter TargetName="border"
                      Property="BorderBrush"
                      Value="{DynamicResource DisabledBorderBrush}"/>
              <Setter Property="Foreground"
                      Value="{DynamicResource TextDisabledBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- DatePickerTextBox -->
  <Style TargetType="DatePickerTextBox">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="CaretBrush"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="Padding"
            Value="{DynamicResource InputPaddingS}"/>
    <Setter Property="Focusable"
            Value="True"/>
    <Setter Property="FocusVisualStyle"
            Value="{x:Null}"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="DatePickerTextBox">
          <Grid>
            <ScrollViewer x:Name="PART_ContentHost"
                          HorizontalScrollBarVisibility="Hidden"
                          VerticalScrollBarVisibility="Hidden"
                          VerticalAlignment="Center"
                          Margin="{TemplateBinding Padding}"/>
            <TextBlock x:Name="PART_Watermark"
                       Text="{DynamicResource Common.DatePicker.Placeholder}"
                       Foreground="{DynamicResource TextMutedBrush}"
                       Visibility="Collapsed"
                       VerticalAlignment="Center"
                       Margin="{TemplateBinding Padding}"
                       IsHitTestVisible="False"/>
          </Grid>
          <ControlTemplate.Triggers>
            <MultiTrigger>
              <MultiTrigger.Conditions>
                <Condition Property="Text"
                           Value=""/>
              </MultiTrigger.Conditions>
              <Setter TargetName="PART_Watermark"
                      Property="Visibility"
                      Value="Visible"/>
            </MultiTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- CheckBox -->
  <Style TargetType="CheckBox">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextSecondaryBrush}"/>
    <Setter Property="Background"
            Value="{DynamicResource InputBackgroundBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="{DynamicResource BorderThickness1}"/>
    <Setter Property="Margin"
            Value="{DynamicResource SpacingVerticalS}"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="CheckBox">
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Border x:Name="checkBoxBorder"
                    Grid.Column="0"
                    Width="18"
                    Height="18"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="{DynamicResource RadiusS}"
                    VerticalAlignment="Center">
              <Grid>
                <!-- Checkmark -->
                <Path x:Name="checkMark"
                      Data="M 3 8 L 7 12 L 14 4"
                      Stroke="{DynamicResource PrimaryBrush}"
                      StrokeThickness="2"
                      StrokeStartLineCap="Round"
                      StrokeEndLineCap="Round"
                      StrokeLineJoin="Round"
                      Stretch="Uniform"
                      Width="10"
                      Height="10"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Center"
                      Visibility="Collapsed"/>
                <!-- Indeterminate -->
                <Border x:Name="indeterminateMark"
                        Width="8"
                        Height="2"
                        Background="{DynamicResource PrimaryBrush}"
                        CornerRadius="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Visibility="Collapsed"/>
              </Grid>
            </Border>
            <ContentPresenter x:Name="contentPresenter"
                              Grid.Column="1"
                              Margin="8,0,0,0"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                              RecognizesAccessKey="True"/>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="checkBoxBorder"
                      Property="BorderBrush"
                      Value="{DynamicResource BorderHoverBrush}"/>
              <Setter TargetName="checkBoxBorder"
                      Property="Background"
                      Value="{DynamicResource SurfaceBrush}"/>
            </Trigger>
            <Trigger Property="IsChecked"
                     Value="True">
              <Setter TargetName="checkMark"
                      Property="Visibility"
                      Value="Visible"/>
              <Setter TargetName="checkBoxBorder"
                      Property="Background"
                      Value="{DynamicResource InputFocusBrush}"/>
              <Setter TargetName="checkBoxBorder"
                      Property="BorderBrush"
                      Value="{DynamicResource PrimaryBrush}"/>
            </Trigger>
            <Trigger Property="IsChecked"
                     Value="{x:Null}">
              <Setter TargetName="indeterminateMark"
                      Property="Visibility"
                      Value="Visible"/>
              <Setter TargetName="checkBoxBorder"
                      Property="Background"
                      Value="{DynamicResource InputFocusBrush}"/>
              <Setter TargetName="checkBoxBorder"
                      Property="BorderBrush"
                      Value="{DynamicResource PrimaryBrush}"/>
            </Trigger>
            <Trigger Property="IsPressed"
                     Value="True">
              <Setter TargetName="checkBoxBorder"
                      Property="Background"
                      Value="{DynamicResource SurfacePressedBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
              <Setter TargetName="checkBoxBorder"
                      Property="Background"
                      Value="{DynamicResource DisabledBackgroundBrush}"/>
              <Setter TargetName="checkBoxBorder"
                      Property="BorderBrush"
                      Value="{DynamicResource DisabledBorderBrush}"/>
              <Setter TargetName="checkMark"
                      Property="Stroke"
                      Value="{DynamicResource TextDisabledBrush}"/>
              <Setter TargetName="indeterminateMark"
                      Property="Background"
                      Value="{DynamicResource TextDisabledBrush}"/>
              <Setter Property="Foreground"
                      Value="{DynamicResource TextDisabledBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- =================================================================== -->
  <!-- LISTS                                                               -->
  <!-- =================================================================== -->

  <!-- ListBox -->
  <Style TargetType="ListBox">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="Background"
            Value="{DynamicResource InputBackgroundBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Style.Triggers>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Background"
                Value="{DynamicResource DisabledBackgroundBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource TextDisabledBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- ListBoxItem -->
  <Style TargetType="ListBoxItem">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="Padding"
            Value="8,4"/>
    <Style.Triggers>
      <Trigger Property="IsSelected"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfaceLightBrush}"/>
      </Trigger>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfaceBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- =================================================================== -->
  <!-- DATAGRID                                                            -->
  <!-- =================================================================== -->

  <!-- DataGrid -->
  <Style TargetType="DataGrid">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="RowBackground"
            Value="Transparent"/>
    <Setter Property="AlternatingRowBackground"
            Value="{DynamicResource InputBackgroundBrush}"/>
    <Setter Property="GridLinesVisibility"
            Value="Horizontal"/>
    <Setter Property="HorizontalGridLinesBrush"
            Value="{DynamicResource BorderBrush}"/>
  </Style>

  <!-- DataGridColumnHeader -->
  <Style TargetType="DataGridColumnHeader">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize"
            Value="{DynamicResource FontSizeM}"/>
    <Setter Property="FontWeight"
            Value="{DynamicResource FontWeightMedium}"/>
    <Setter Property="Background"
            Value="{DynamicResource SurfaceBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextSecondaryBrush}"/>
    <Setter Property="Padding"
            Value="8,6"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="0,0,0,1"/>
  </Style>

  <!-- DataGridCell -->
  <Style TargetType="DataGridCell">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="Padding"
            Value="8,4"/>
    <Style.Triggers>
      <Trigger Property="IsSelected"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfaceLightBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource TextPrimaryBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- DataGridRow -->
  <Style TargetType="DataGridRow">
    <Setter Property="FontFamily"
            Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="Background"
            Value="Transparent"/>
    <Style.Triggers>
      <Trigger Property="IsSelected"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfaceLightBrush}"/>
      </Trigger>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfaceBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- =================================================================== -->
  <!-- MISC                                                                -->
  <!-- =================================================================== -->

  <!-- =================================================================== -->
  <!-- AUTO CLIPPER CONTROLS (theme-owned)                                 -->
  <!-- =================================================================== -->

  <SolidColorBrush x:Key="ClipperSliderForegroundBrush"
                   Color="#FF7CC8FF"/>
  <SolidColorBrush x:Key="ClipperSliderBackgroundBrush"
                   Color="#FF2D3F58"/>
  <SolidColorBrush x:Key="ClipperSliderBorderBrush"
                   Color="#FF4A5A73"/>
  <SolidColorBrush x:Key="ClipperSliderThumbFillBrush"
                   Color="#FFF6FBFF"/>
  <SolidColorBrush x:Key="ClipperSliderThumbBorderBrush"
                   Color="#FF7CC8FF"/>
  <SolidColorBrush x:Key="ClipperSliderThumbHoverFillBrush"
                   Color="#FFFFFFFF"/>
  <SolidColorBrush x:Key="ClipperSliderThumbHoverBorderBrush"
                   Color="#FF58B6F4"/>
  <SolidColorBrush x:Key="ClipperSliderThumbPressedFillBrush"
                   Color="#FFFFFFFF"/>
  <SolidColorBrush x:Key="ClipperSliderThumbPressedBorderBrush"
                   Color="#FF3EA2E6"/>
  <SolidColorBrush x:Key="ClipperSliderTrackHoverBrush"
                   Color="#FF3A4E69"/>
  <SolidColorBrush x:Key="ClipperSliderTrackPressedBrush"
                   Color="#FF425A78"/>
  <SolidColorBrush x:Key="ClipperSliderDisabledForegroundBrush"
                   Color="#FFAFBED8"/>
  <SolidColorBrush x:Key="ClipperSliderDisabledBackgroundBrush"
                   Color="#FF253347"/>
  <SolidColorBrush x:Key="ClipperSliderDisabledBorderBrush"
                   Color="#FF5A6982"/>

  <Style x:Key="ClipperSettingsSlider"
         TargetType="Slider">
    <Setter Property="Foreground"
            Value="{DynamicResource ClipperSliderForegroundBrush}"/>
    <Setter Property="Background"
            Value="{DynamicResource ClipperSliderBackgroundBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource ClipperSliderBorderBrush}"/>
    <Setter Property="MinHeight"
            Value="24"/>
    <Setter Property="IsMoveToPointEnabled"
            Value="True"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Style.Resources>
      <Style TargetType="Thumb">
        <Setter Property="Background"
                Value="{DynamicResource ClipperSliderThumbFillBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource ClipperSliderThumbBorderBrush}"/>
        <Style.Triggers>
          <Trigger Property="IsMouseOver"
                   Value="True">
            <Setter Property="Background"
                    Value="{DynamicResource ClipperSliderThumbHoverFillBrush}"/>
            <Setter Property="BorderBrush"
                    Value="{DynamicResource ClipperSliderThumbHoverBorderBrush}"/>
          </Trigger>
          <Trigger Property="IsDragging"
                   Value="True">
            <Setter Property="Background"
                    Value="{DynamicResource ClipperSliderThumbPressedFillBrush}"/>
            <Setter Property="BorderBrush"
                    Value="{DynamicResource ClipperSliderThumbPressedBorderBrush}"/>
          </Trigger>
          <Trigger Property="IsEnabled"
                   Value="False">
            <Setter Property="Background"
                    Value="{DynamicResource ClipperSliderDisabledBackgroundBrush}"/>
            <Setter Property="BorderBrush"
                    Value="{DynamicResource ClipperSliderDisabledBorderBrush}"/>
          </Trigger>
        </Style.Triggers>
      </Style>

      <Style TargetType="RepeatButton">
        <Setter Property="Background"
                Value="{DynamicResource ClipperSliderBackgroundBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource ClipperSliderBorderBrush}"/>
        <Style.Triggers>
          <Trigger Property="IsMouseOver"
                   Value="True">
            <Setter Property="Background"
                    Value="{DynamicResource ClipperSliderTrackHoverBrush}"/>
          </Trigger>
          <Trigger Property="IsPressed"
                   Value="True">
            <Setter Property="Background"
                    Value="{DynamicResource ClipperSliderTrackPressedBrush}"/>
          </Trigger>
          <Trigger Property="IsEnabled"
                   Value="False">
            <Setter Property="Background"
                    Value="{DynamicResource ClipperSliderDisabledBackgroundBrush}"/>
            <Setter Property="BorderBrush"
                    Value="{DynamicResource ClipperSliderDisabledBorderBrush}"/>
          </Trigger>
        </Style.Triggers>
      </Style>
    </Style.Resources>
    <Style.Triggers>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Foreground"
                Value="{DynamicResource ClipperSliderDisabledForegroundBrush}"/>
        <Setter Property="Background"
                Value="{DynamicResource ClipperSliderDisabledBackgroundBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource ClipperSliderDisabledBorderBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <Style x:Key="ClipperTimelineSlider"
         TargetType="Slider"
         BasedOn="{StaticResource ClipperSettingsSlider}">
    <Setter Property="IsMoveToPointEnabled"
            Value="True"/>
    <Setter Property="SmallChange"
            Value="0.25"/>
    <Setter Property="LargeChange"
            Value="1"/>
    <Setter Property="Height"
            Value="24"/>
  </Style>

  <Style x:Key="ClipperVolumeSlider"
         TargetType="Slider"
         BasedOn="{StaticResource ClipperSettingsSlider}">
    <Setter Property="MinWidth"
            Value="108"/>
    <Setter Property="Height"
            Value="24"/>
  </Style>

  <Style x:Key="ClipperMediaGlyph"
         TargetType="TextBlock">
    <Setter Property="FontFamily"
            Value="{DynamicResource MaterialIconsFont}"/>
    <Setter Property="FontSize"
            Value="20"/>
    <Setter Property="Margin"
            Value="0"/>
    <Setter Property="TextOptions.TextFormattingMode"
            Value="Display"/>
    <Setter Property="TextOptions.TextRenderingMode"
            Value="ClearType"/>
    <Setter Property="HorizontalAlignment"
            Value="Center"/>
    <Setter Property="VerticalAlignment"
            Value="Center"/>
  </Style>

  <ControlTemplate x:Key="ClipperMediaButtonTemplate"
                   TargetType="Button">
    <Border x:Name="MediaButtonChrome"
            Background="{TemplateBinding Background}"
            BorderBrush="{TemplateBinding BorderBrush}"
            BorderThickness="{TemplateBinding BorderThickness}"
            CornerRadius="{DynamicResource RadiusCircle}">
      <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
    </Border>
    <ControlTemplate.Triggers>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter TargetName="MediaButtonChrome"
                Property="Opacity"
                Value="0.45"/>
      </Trigger>
    </ControlTemplate.Triggers>
  </ControlTemplate>

  <Style x:Key="ClipperMediaIconButton"
         TargetType="Button"
         BasedOn="{StaticResource ButtonBaseCommon}">
    <Setter Property="Width"
            Value="40"/>
    <Setter Property="Height"
            Value="40"/>
    <Setter Property="Padding"
            Value="0"/>
    <Setter Property="Background"
            Value="{DynamicResource SurfaceSunkenBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Center"/>
    <Setter Property="VerticalContentAlignment"
            Value="Center"/>
    <Setter Property="Template"
            Value="{DynamicResource ClipperMediaButtonTemplate}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfaceHoverBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource BorderStrongBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource SurfacePressedBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource PrimaryPressedBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Foreground"
                Value="{DynamicResource TextDisabledBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <Style x:Key="ClipperMediaPrimaryIconButton"
         TargetType="Button"
         BasedOn="{StaticResource ClipperMediaIconButton}">
    <Setter Property="Width"
            Value="46"/>
    <Setter Property="Height"
            Value="46"/>
    <Setter Property="Background"
            Value="{DynamicResource PrimaryBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource PrimaryTextBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource PrimaryPressedBrush}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource PrimaryHoverBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource PrimaryHoverBrush}"/>
      </Trigger>
      <Trigger Property="IsPressed"
               Value="True">
        <Setter Property="Background"
                Value="{DynamicResource PrimaryPressedBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource PrimaryPressedBrush}"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter Property="Background"
                Value="{DynamicResource DisabledBackgroundBrush}"/>
        <Setter Property="BorderBrush"
                Value="{DynamicResource DisabledBorderBrush}"/>
        <Setter Property="Foreground"
                Value="{DynamicResource TextDisabledBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <Style x:Key="ClipperMediaGroupCard"
         TargetType="Border">
    <Setter Property="Background"
            Value="{DynamicResource SurfaceSunkenBrush}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="CornerRadius"
            Value="{DynamicResource RadiusPill}"/>
    <Setter Property="Padding"
            Value="10,6"/>
    <Setter Property="HorizontalAlignment"
            Value="Center"/>
  </Style>

  <!-- Slider -->
  <Style TargetType="Slider">
    <Setter Property="Foreground"
            Value="{DynamicResource PrimaryBrush}"/>
  </Style>

  <!-- Hyperlink -->
  <Style TargetType="Hyperlink">
    <Setter Property="Foreground"
            Value="{DynamicResource PrimaryBrush}"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver"
               Value="True">
        <Setter Property="Foreground"
                Value="{DynamicResource PrimaryHoverBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- =================================================================== -->
  <!-- SCROLLBAR                                                           -->
  <!-- =================================================================== -->

  <Style x:Key="ScrollBarRepeatButtonStyle"
         TargetType="RepeatButton">
    <Setter Property="Focusable"
            Value="False"/>
    <Setter Property="IsTabStop"
            Value="False"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="RepeatButton">
          <Border Background="Transparent"/>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style x:Key="ScrollBarThumbStyle"
         TargetType="Thumb">
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="Background"
            Value="{DynamicResource SurfaceLightBrush}"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Thumb">
          <Border x:Name="thumbBorder"
                  Background="{TemplateBinding Background}"
                  CornerRadius="0"
                  Margin="1"/>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter TargetName="thumbBorder"
                      Property="Background"
                      Value="{DynamicResource SurfaceHoverBrush}"/>
            </Trigger>
            <Trigger Property="IsDragging"
                     Value="True">
              <Setter TargetName="thumbBorder"
                      Property="Background"
                      Value="{DynamicResource SurfacePressedBrush}"/>
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
              <Setter TargetName="thumbBorder"
                      Property="Background"
                      Value="{DynamicResource DisabledBackgroundBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <ControlTemplate x:Key="DefaultScrollBarTemplate"
                   TargetType="ScrollBar">
    <Grid>
      <Border x:Name="TrackBackground"
              Background="{DynamicResource ScrollBarTrackBrush}"/>

      <Track x:Name="PART_Track"
             Margin="1"
             Orientation="{TemplateBinding Orientation}"
             Minimum="{TemplateBinding Minimum}"
             Maximum="{TemplateBinding Maximum}"
             Value="{TemplateBinding Value}"
             ViewportSize="{TemplateBinding ViewportSize}"
             IsDirectionReversed="True">
        <Track.DecreaseRepeatButton>
          <RepeatButton x:Name="PageBefore"
                        Command="{x:Static ScrollBar.LineUpCommand}"
                        Style="{DynamicResource ScrollBarRepeatButtonStyle}"/>
        </Track.DecreaseRepeatButton>
        <Track.IncreaseRepeatButton>
          <RepeatButton x:Name="PageAfter"
                        Command="{x:Static ScrollBar.LineDownCommand}"
                        Style="{DynamicResource ScrollBarRepeatButtonStyle}"/>
        </Track.IncreaseRepeatButton>
        <Track.Thumb>
          <Thumb Style="{DynamicResource ScrollBarThumbStyle}"/>
        </Track.Thumb>
      </Track>
    </Grid>
    <ControlTemplate.Triggers>
      <Trigger Property="Orientation"
               Value="Horizontal">
        <Setter TargetName="PageBefore"
                Property="Command"
                Value="{x:Static ScrollBar.LineLeftCommand}"/>
        <Setter TargetName="PageAfter"
                Property="Command"
                Value="{x:Static ScrollBar.LineRightCommand}"/>
        <Setter TargetName="PART_Track"
                Property="IsDirectionReversed"
                Value="False"/>
      </Trigger>
      <Trigger Property="Orientation"
               Value="Vertical">
        <Setter TargetName="PART_Track"
                Property="IsDirectionReversed"
                Value="True"/>
      </Trigger>
      <Trigger Property="IsEnabled"
               Value="False">
        <Setter TargetName="TrackBackground"
                Property="Background"
                Value="{DynamicResource DisabledBackgroundBrush}"/>
      </Trigger>
    </ControlTemplate.Triggers>
  </ControlTemplate>

  <Style TargetType="ScrollBar">
    <Setter Property="Background"
            Value="{DynamicResource ScrollBarTrackBrush}"/>
    <Setter Property="Width"
            Value="10"/>
    <Setter Property="Height"
            Value="Auto"/>
    <Setter Property="Template"
            Value="{DynamicResource DefaultScrollBarTemplate}"/>
    <Style.Triggers>
      <Trigger Property="Orientation"
               Value="Horizontal">
        <Setter Property="Width"
                Value="Auto"/>
        <Setter Property="Height"
                Value="6"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <Style x:Key="LeftScrollbarScrollViewerStyle"
         TargetType="ScrollViewer">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ScrollViewer">
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition Height="*"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <ScrollContentPresenter Grid.Column="1"
                                    Grid.Row="0"
                                    Margin="{TemplateBinding Padding}"
                                    Content="{TemplateBinding Content}"
                                    ContentTemplate="{TemplateBinding ContentTemplate}"
                                    CanContentScroll="{TemplateBinding CanContentScroll}"/>
            <ScrollBar x:Name="PART_VerticalScrollBar"
                       Grid.Column="0"
                       Grid.Row="0"
                       Orientation="Vertical"
                       Maximum="{TemplateBinding ScrollableHeight}"
                       ViewportSize="{TemplateBinding ViewportHeight}"
                       Value="{TemplateBinding VerticalOffset}"
                       Margin="0,0,8,0"
                       Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"/>
            <ScrollBar x:Name="PART_HorizontalScrollBar"
                       Grid.Column="1"
                       Grid.Row="1"
                       Orientation="Horizontal"
                       Maximum="{TemplateBinding ScrollableWidth}"
                       ViewportSize="{TemplateBinding ViewportWidth}"
                       Value="{TemplateBinding HorizontalOffset}"
                       Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"/>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- =================================================================== -->
  <!-- PROGRESSBAR                                                         -->
  <!-- =================================================================== -->

  <!-- ProgressBar -->
  <Style TargetType="ProgressBar">
    <Setter Property="Background"
            Value="{DynamicResource SurfaceLightBrush}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource PrimaryBrush}"/>
    <Setter Property="BorderThickness"
            Value="{DynamicResource BorderThickness0}"/>
    <Setter Property="Height"
            Value="{DynamicResource ProgressBarHeight}"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ProgressBar">
          <Grid>
            <Border x:Name="PART_Track"
                    Background="{TemplateBinding Background}"
                    CornerRadius="{DynamicResource RadiusS}"/>
            <Border x:Name="PART_Indicator"
                    Background="{TemplateBinding Foreground}"
                    CornerRadius="{DynamicResource RadiusS}"
                    HorizontalAlignment="Left"/>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- =================================================================== -->
  <!-- COMPATIBILITY SECTION (currently nothing required)                   -->
  <!-- =================================================================== -->
  <!--
    Alle bisherigen Keys bleiben erhalten:
    SidebarNavButton, VideoDropZoneStyle, ThumbnailDropZoneStyle,
    SuggestionCloseButtonStyle, SuggestionItemButtonStyle,
    PlatformToggleButton, PrimaryButton, SecondaryButton, DangerButton,
    ModernGroupBox etc.

    Falls du später weitere "alte" Keys findest, die irgendwo referenziert werden,
    können wir sie hier als BasedOn-Aliase ergänzen.
  -->

  <!-- =================================================================== -->
  <!-- Calendar Styles                                                     -->
  <!-- =================================================================== -->

  <!-- CalendarDayButton - einzelne Tage im Kalender -->
  <Style x:Key="CalendarDayButtonStyle"
         TargetType="{x:Type primitives:CalendarDayButton}">
    <Setter Property="MinWidth" Value="32"/>
    <Setter Property="MinHeight" Value="32"/>
    <Setter Property="FontSize" Value="{DynamicResource FontSizeS}"/>
    <Setter Property="Cursor" Value="Hand"/>
    <Setter Property="HorizontalContentAlignment" Value="Center"/>
    <Setter Property="VerticalContentAlignment" Value="Center"/>
    <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="Background" Value="Transparent"/>
    <Setter Property="Margin" Value="1"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type primitives:CalendarDayButton}">
          <Grid>
            <Border x:Name="Background"
                    Background="{TemplateBinding Background}"
                    CornerRadius="{DynamicResource RadiusS}"/>
            <Border x:Name="TodayHighlight"
                    BorderBrush="{DynamicResource PrimaryBrush}"
                    BorderThickness="1"
                    CornerRadius="{DynamicResource RadiusS}"
                    Visibility="Collapsed"/>
            <ContentPresenter x:Name="Content"
                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                              Margin="4"/>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="IsToday" Value="True">
              <Setter TargetName="TodayHighlight" Property="Visibility" Value="Visible"/>
            </Trigger>
            <Trigger Property="IsSelected" Value="True">
              <Setter TargetName="Background" Property="Background" Value="{DynamicResource PrimaryBrush}"/>
              <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}"/>
            </Trigger>
            <Trigger Property="IsMouseOver" Value="True">
              <Setter TargetName="Background" Property="Background" Value="{DynamicResource SurfaceHoverBrush}"/>
            </Trigger>
            <MultiTrigger>
              <MultiTrigger.Conditions>
                <Condition Property="IsSelected" Value="True"/>
                <Condition Property="IsMouseOver" Value="True"/>
              </MultiTrigger.Conditions>
              <Setter TargetName="Background" Property="Background" Value="{DynamicResource PrimaryHoverBrush}"/>
            </MultiTrigger>
            <Trigger Property="IsInactive" Value="True">
              <Setter Property="Foreground" Value="{DynamicResource TextMutedBrush}"/>
            </Trigger>
            <Trigger Property="IsBlackedOut" Value="True">
              <Setter Property="Foreground" Value="{DynamicResource TextDisabledBrush}"/>
              <Setter TargetName="Background" Property="Background" Value="Transparent"/>
              <Setter Property="Opacity" Value="0.35"/>
              <Setter Property="Cursor" Value="Arrow"/>
              <Setter Property="IsEnabled" Value="False"/>
            </Trigger>
            <MultiTrigger>
              <MultiTrigger.Conditions>
                <Condition Property="IsBlackedOut" Value="True"/>
                <Condition Property="IsMouseOver" Value="True"/>
              </MultiTrigger.Conditions>
              <Setter TargetName="Background" Property="Background" Value="Transparent"/>
            </MultiTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="{x:Type primitives:CalendarDayButton}"
         BasedOn="{StaticResource CalendarDayButtonStyle}"/>

  <!-- CalendarButton - Monat/Jahr Buttons -->
  <Style TargetType="{x:Type primitives:CalendarButton}">
    <Setter Property="MinWidth" Value="48"/>
    <Setter Property="MinHeight" Value="36"/>
    <Setter Property="FontSize" Value="{DynamicResource FontSizeM}"/>
    <Setter Property="HorizontalContentAlignment" Value="Center"/>
    <Setter Property="VerticalContentAlignment" Value="Center"/>
    <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="Background" Value="Transparent"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type primitives:CalendarButton}">
          <Grid>
            <Border x:Name="Background"
                    Background="{TemplateBinding Background}"
                    CornerRadius="{DynamicResource RadiusS}"/>
            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                              Margin="4"/>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="HasSelectedDays" Value="True">
              <Setter TargetName="Background" Property="Background" Value="{DynamicResource PrimaryBrush}"/>
              <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}"/>
            </Trigger>
            <Trigger Property="IsMouseOver" Value="True">
              <Setter TargetName="Background" Property="Background" Value="{DynamicResource SurfaceHoverBrush}"/>
            </Trigger>
            <Trigger Property="IsInactive" Value="True">
              <Setter Property="Foreground" Value="{DynamicResource TextMutedBrush}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- CalendarItem - der Hauptcontainer mit Header -->
  <Style TargetType="{x:Type primitives:CalendarItem}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type primitives:CalendarItem}">
          <ControlTemplate.Resources>
            <DataTemplate x:Key="{x:Static primitives:CalendarItem.DayTitleTemplateResourceKey}">
              <TextBlock Text="{Binding}"
                         FontWeight="SemiBold"
                         FontSize="{DynamicResource FontSizeM}"
                         Foreground="{DynamicResource TextMutedBrush}"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"
                         Margin="0,8"/>
            </DataTemplate>
          </ControlTemplate.Resources>
          <Grid>
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <!-- Header mit Monat/Jahr und Navigation -->
            <Grid Grid.Row="0" Margin="4,8,4,8">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>
              <Button x:Name="PART_HeaderButton"
                      Grid.Column="0"
                      Focusable="False"
                      Background="Transparent"
                      BorderThickness="0"
                      Foreground="{DynamicResource TextPrimaryBrush}"
                      FontWeight="SemiBold"
                      FontSize="{DynamicResource FontSizeL}"
                      HorizontalAlignment="Left"
                      Padding="8,4"
                      Cursor="Hand"/>
              <Button x:Name="PART_PreviousButton"
                      Grid.Column="2"
                      Focusable="False"
                      Width="32"
                      Height="32"
                      Background="Transparent"
                      BorderThickness="0"
                      Cursor="Hand"
                      Margin="0,0,4,0">
                <TextBlock Text="&#xe5cb;"
                           FontFamily="{DynamicResource MaterialIconsFont}"
                           FontSize="{DynamicResource FontSizeL}"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
              </Button>
              <Button x:Name="PART_NextButton"
                      Grid.Column="3"
                      Focusable="False"
                      Width="32"
                      Height="32"
                      Background="Transparent"
                      BorderThickness="0"
                      Cursor="Hand">
                <TextBlock Text="&#xe5cc;"
                           FontFamily="{DynamicResource MaterialIconsFont}"
                           FontSize="{DynamicResource FontSizeL}"
                           Foreground="{DynamicResource TextSecondaryBrush}"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
              </Button>
            </Grid>
            <!-- Kalender-Grid -->
            <Grid x:Name="PART_MonthView"
                  Grid.Row="1"
                  Margin="4,0,4,4"
                  Visibility="Visible">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
            </Grid>
            <Grid x:Name="PART_YearView"
                  Grid.Row="1"
                  Margin="4,0,4,4"
                  Visibility="Hidden">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
            </Grid>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Calendar - Hauptstyle -->
  <Style TargetType="Calendar">
    <Setter Property="CalendarDayButtonStyle"
            Value="{DynamicResource CalendarDayButtonStyle}"/>
    <Setter Property="Background" Value="{DynamicResource SurfaceSunkenBrush}"/>
    <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Calendar">
          <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="{DynamicResource RadiusS}"
                  Padding="4">
            <CalendarItem x:Name="PART_CalendarItem"
                          Background="{TemplateBinding Background}"
                          BorderThickness="0"/>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- =================================================================== -->
  <!-- AUTO-SAVE INDICATOR STYLES                                          -->
  <!-- =================================================================== -->

  <!-- Save indicator container style -->
  <Style x:Key="SaveIndicatorContainer" TargetType="Border">
    <Setter Property="Background" Value="Transparent"/>
    <Setter Property="Padding" Value="8,4"/>
    <Setter Property="CornerRadius" Value="{DynamicResource RadiusS}"/>
    <Setter Property="VerticalAlignment" Value="Center"/>
  </Style>

  <!-- Save indicator icon style -->
  <Style x:Key="SaveIndicatorIcon" TargetType="TextBlock" BasedOn="{StaticResource Icon}">
    <Setter Property="FontSize" Value="{DynamicResource FontSizeM}"/>
    <Setter Property="VerticalAlignment" Value="Center"/>
    <Setter Property="Margin" Value="0,0,6,0"/>
  </Style>

  <!-- Save indicator text style -->
  <Style x:Key="SaveIndicatorText" TargetType="TextBlock">
    <Setter Property="FontFamily" Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize" Value="{DynamicResource FontSizeS}"/>
    <Setter Property="VerticalAlignment" Value="Center"/>
  </Style>

  <!-- Fade animation for save indicator -->
  <Storyboard x:Key="SaveIndicatorFadeIn">
    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                     From="0" To="1" Duration="0:0:0.2"/>
  </Storyboard>

  <Storyboard x:Key="SaveIndicatorFadeOut">
    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                     From="1" To="0" Duration="0:0:0.3"/>
  </Storyboard>

  <!-- Pulse animation for saving state -->
  <Storyboard x:Key="SaveIndicatorPulse" RepeatBehavior="Forever">
    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                     From="1" To="0.5" Duration="0:0:0.5"
                     AutoReverse="True"/>
  </Storyboard>

  <!-- =================================================================== -->
  <!-- INLINE VALIDATION STYLES                                            -->
  <!-- =================================================================== -->

  <!-- Validation icon base style -->
  <Style x:Key="ValidationIcon" TargetType="TextBlock" BasedOn="{StaticResource Icon}">
    <Setter Property="FontSize" Value="{DynamicResource FontSizeM}"/>
    <Setter Property="VerticalAlignment" Value="Center"/>
    <Setter Property="Margin" Value="8,0,0,0"/>
  </Style>

  <!-- Valid state icon (green checkmark) -->
  <Style x:Key="ValidationIconValid" TargetType="TextBlock" BasedOn="{StaticResource ValidationIcon}">
    <Setter Property="Text" Value="&#xe5ca;"/>
    <Setter Property="Foreground" Value="{DynamicResource SuccessBrush}"/>
  </Style>

  <!-- Invalid state icon (red X) -->
  <Style x:Key="ValidationIconInvalid" TargetType="TextBlock" BasedOn="{StaticResource ValidationIcon}">
    <Setter Property="Text" Value="&#xe5cd;"/>
    <Setter Property="Foreground" Value="{DynamicResource DangerBrush}"/>
  </Style>

  <!-- TextBox with validation feedback wrapper style -->
  <Style x:Key="ValidatedInputContainer" TargetType="Grid">
    <Setter Property="HorizontalAlignment" Value="Stretch"/>
  </Style>

  <!-- Success border style for valid inputs -->
  <Style x:Key="InputBorderValid" TargetType="Border">
    <Setter Property="BorderBrush" Value="{DynamicResource SuccessBrush}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="CornerRadius" Value="{DynamicResource RadiusS}"/>
    <Setter Property="Margin" Value="-1"/>
    <Setter Property="IsHitTestVisible" Value="False"/>
  </Style>

  <!-- =================================================================== -->
  <!-- HELP TOOLTIP STYLES (Question mark icon with tooltip)               -->
  <!-- =================================================================== -->

  <!-- Help icon button style -->
  <Style x:Key="HelpIconButton" TargetType="Border">
    <Setter Property="Width" Value="20"/>
    <Setter Property="Height" Value="20"/>
    <Setter Property="CornerRadius" Value="{DynamicResource RadiusCircle}"/>
    <Setter Property="Background" Value="Transparent"/>
    <Setter Property="Cursor" Value="Help"/>
    <Setter Property="Margin" Value="8,0,0,0"/>
    <Setter Property="VerticalAlignment" Value="Center"/>
    <Setter Property="ToolTipService.InitialShowDelay" Value="100"/>
    <Setter Property="ToolTipService.ShowDuration" Value="30000"/>
    <Style.Triggers>
      <Trigger Property="IsMouseOver" Value="True">
        <Setter Property="Background" Value="{DynamicResource SurfaceHoverBrush}"/>
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- Help icon glyph style -->
  <Style x:Key="HelpIconGlyph" TargetType="TextBlock" BasedOn="{StaticResource Icon}">
    <Setter Property="Text" Value="&#xe8fd;"/>
    <Setter Property="FontSize" Value="14"/>
    <Setter Property="Foreground" Value="{DynamicResource TextMutedBrush}"/>
    <Setter Property="HorizontalAlignment" Value="Center"/>
    <Setter Property="VerticalAlignment" Value="Center"/>
  </Style>

  <!-- Help tooltip content style -->
  <Style x:Key="HelpTooltipContent" TargetType="StackPanel">
    <Setter Property="MaxWidth" Value="280"/>
  </Style>

  <!-- Help tooltip title style -->
  <Style x:Key="HelpTooltipTitle" TargetType="TextBlock">
    <Setter Property="FontFamily" Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize" Value="{DynamicResource FontSizeS}"/>
    <Setter Property="FontWeight" Value="{DynamicResource FontWeightSemiBold}"/>
    <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
    <Setter Property="Margin" Value="0,0,0,4"/>
  </Style>

  <!-- Help tooltip example style -->
  <Style x:Key="HelpTooltipExample" TargetType="TextBlock">
    <Setter Property="FontFamily" Value="{DynamicResource PrimaryFont}"/>
    <Setter Property="FontSize" Value="{DynamicResource FontSizeS}"/>
    <Setter Property="Foreground" Value="{DynamicResource TextMutedBrush}"/>
    <Setter Property="TextWrapping" Value="Wrap"/>
    <Setter Property="FontStyle" Value="Italic"/>
  </Style>

  <!-- Label with help icon container -->
  <Style x:Key="LabelWithHelpContainer" TargetType="StackPanel">
    <Setter Property="Orientation" Value="Horizontal"/>
    <Setter Property="Margin" Value="{DynamicResource LabelMarginBottom}"/>
  </Style>

</ResourceDictionary>



