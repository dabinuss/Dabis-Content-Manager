<UserControl x:Class="DCM.App.Views.AccountsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:core="clr-namespace:DCM.Core.Models;assembly=DCM.Core"
             xmlns:ap="clr-namespace:DCM.App.Infrastructure.AttachedProperties">
  <UserControl.Resources>
    <!-- Local resources removed - now using centralized theme resources:
         ListItemSelectedBrush, ListItemSelectedCornerRadius, ListDividerBrush -->

    <Style x:Key="ServiceCardToggleButton"
           TargetType="ToggleButton">
      <Setter Property="Cursor"
              Value="Hand"/>
      <Setter Property="Background"
              Value="{StaticResource SurfaceElevatedBrush}"/>
      <Setter Property="BorderBrush"
              Value="{StaticResource BorderBrush}"/>
      <Setter Property="BorderThickness"
              Value="1"/>
      <Setter Property="Padding"
              Value="0"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ToggleButton">
            <Border x:Name="CardBorder"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="{StaticResource RadiusS}"
                    Margin="0,0,8,0"
                    SnapsToDevicePixels="True">
              <ContentPresenter Margin="8,8,4,8"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver"
                       Value="True">
                <Setter TargetName="CardBorder"
                        Property="Background"
                        Value="{StaticResource SurfaceHoverBrush}"/>
                <Setter TargetName="CardBorder"
                        Property="BorderBrush"
                        Value="{StaticResource BorderHoverBrush}"/>
              </Trigger>
              <Trigger Property="IsChecked"
                       Value="True">
                <Setter TargetName="CardBorder"
                        Property="Background"
                        Value="{StaticResource ListItemSelectedBrush}"/>
                <Setter TargetName="CardBorder"
                        Property="BorderBrush"
                        Value="{StaticResource BorderStrongBrush}"/>
                <Setter TargetName="CardBorder"
                        Property="CornerRadius"
                        Value="{StaticResource ListItemSelectedCornerRadius}"/>
                <Setter TargetName="CardBorder"
                        Property="Margin"
                        Value="0"/>
              </Trigger>
              <Trigger Property="IsEnabled"
                       Value="False">
                <Setter Property="Opacity"
                        Value="0.6"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <Style x:Key="AutoConnectToggleButton"
           TargetType="ToggleButton">
      <Setter Property="Padding"
              Value="10,2"/>
      <Setter Property="MinWidth"
              Value="56"/>
      <Setter Property="Background"
              Value="{StaticResource SurfaceSunkenBrush}"/>
      <Setter Property="BorderBrush"
              Value="{StaticResource BorderBrush}"/>
      <Setter Property="BorderThickness"
              Value="1"/>
      <Setter Property="Foreground"
              Value="{StaticResource TextMutedBrush}"/>
      <Setter Property="Cursor"
              Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ToggleButton">
            <Border x:Name="AutoConnectBorder"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="{StaticResource RadiusM}">
              <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsChecked"
                       Value="True">
                <Setter TargetName="AutoConnectBorder"
                        Property="Background"
                        Value="{StaticResource SuccessSubtleBrush}"/>
                <Setter TargetName="AutoConnectBorder"
                        Property="BorderBrush"
                        Value="{StaticResource SuccessBrush}"/>
                <Setter Property="Foreground"
                        Value="{StaticResource SuccessBrush}"/>
              </Trigger>
              <Trigger Property="IsMouseOver"
                       Value="True">
                <Setter TargetName="AutoConnectBorder"
                        Property="BorderBrush"
                        Value="{StaticResource BorderHoverBrush}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <Style x:Key="ServiceCardAutoConnectToggleButton"
           TargetType="ToggleButton"
           BasedOn="{StaticResource AutoConnectToggleButton}">
      <Setter Property="Padding"
              Value="0"/>
      <Setter Property="MinHeight"
              Value="20"/>
      <Setter Property="MinWidth"
              Value="0"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ToggleButton">
            <Grid>
              <Border x:Name="AutoConnectTrack"
                      Background="{StaticResource ToggleTrackBrush}"
                      BorderThickness="0"
                      CornerRadius="0,0,6,6"
                      Height="20"
                      Margin="1,0"/>
              <Grid Margin="1,1">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Border x:Name="AutoConnectThumb"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        Width="28"
                        Height="16"
                        Background="{StaticResource ToggleThumbOffBrush}"
                        BorderThickness="0"
                        CornerRadius="2,2,4,4"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Margin="2,0">
                  <TextBlock x:Name="AutoConnectThumbText"
                             Text="{TemplateBinding Content}"
                             FontSize="{StaticResource FontSizeXXS}"
                             FontWeight="SemiBold"
                             Foreground="{StaticResource ToggleThumbTextBrush}"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center"/>
                </Border>
              </Grid>
            </Grid>
            <ControlTemplate.Triggers>
              <Trigger Property="IsChecked"
                       Value="True">
                <Setter TargetName="AutoConnectThumb"
                        Property="HorizontalAlignment"
                        Value="Right"/>
                <Setter TargetName="AutoConnectThumb"
                        Property="Background"
                        Value="{StaticResource SuccessBrush}"/>
                <Setter TargetName="AutoConnectThumbText"
                        Property="Foreground"
                        Value="White"/>
              </Trigger>
              <Trigger Property="IsMouseOver"
                       Value="True">
                <Setter TargetName="AutoConnectTrack"
                        Property="BorderBrush"
                        Value="{StaticResource BorderHoverBrush}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <Style x:Key="AccountsTabItemStyle"
           TargetType="TabItem">
      <Setter Property="Foreground"
              Value="{StaticResource TextSecondaryBrush}"/>
      <Setter Property="FontSize"
              Value="{StaticResource FontSizeS}"/>
      <Setter Property="FontWeight"
              Value="{StaticResource FontWeightSemiBold}"/>
      <Setter Property="MinHeight"
              Value="34"/>
      <Setter Property="MinWidth"
              Value="140"/>
      <Setter Property="Margin"
              Value="0,0,12,0"/>
      <Setter Property="Padding"
              Value="14,6"/>
      <Setter Property="Background"
              Value="{StaticResource SurfaceSunkenBrush}"/>
      <Setter Property="BorderBrush"
              Value="{StaticResource BorderBrush}"/>
      <Setter Property="BorderThickness"
              Value="1"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="TabItem">
            <Border x:Name="HeaderBorder"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="8,8,0,0"
                    Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                ContentSource="Header"
                                TextElement.Foreground="{TemplateBinding Foreground}"/>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsSelected"
                       Value="True">
                <Setter TargetName="HeaderBorder"
                        Property="Background"
                        Value="{StaticResource SurfaceBrush}"/>
                <Setter TargetName="HeaderBorder"
                        Property="BorderBrush"
                        Value="{StaticResource BorderStrongBrush}"/>
                <Setter TargetName="HeaderBorder"
                        Property="BorderThickness"
                        Value="1,1,1,0"/>
                <Setter Property="Foreground"
                        Value="{StaticResource TextPrimaryBrush}"/>
                <Setter Property="Panel.ZIndex"
                        Value="1"/>
              </Trigger>
              <Trigger Property="IsMouseOver"
                       Value="True">
                <Setter TargetName="HeaderBorder"
                        Property="Background"
                        Value="{StaticResource SurfaceHoverBrush}"/>
                <Setter TargetName="HeaderBorder"
                        Property="BorderBrush"
                        Value="{StaticResource BorderHoverBrush}"/>
              </Trigger>
              <Trigger Property="IsEnabled"
                       Value="False">
                <Setter Property="Foreground"
                        Value="{StaticResource TextDisabledBrush}"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <Style x:Key="AccountsTabControlStyle"
           TargetType="TabControl">
      <Setter Property="ClipToBounds"
              Value="False"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="TabControl">
            <Grid ClipToBounds="False">
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <Grid Grid.Row="0">
                <Border Background="{StaticResource SurfaceSunkenBrush}"
                        BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="1,1,1,0"
                        CornerRadius="12,12,0,0"/>
                <TabPanel IsItemsHost="True"
                          Background="Transparent"
                          Margin="12,6,12,-1"
                          HorizontalAlignment="Left"
                          ClipToBounds="False"
                          Panel.ZIndex="1"/>
              </Grid>
              <Border Grid.Row="1"
                      Background="{StaticResource SurfaceBrush}"
                      BorderBrush="{StaticResource BorderBrush}"
                      BorderThickness="{StaticResource BorderThickness1}"
                      CornerRadius="0,0,12,12"
                      Padding="{StaticResource SpacingAllM}"
                      Margin="0,-1,0,0">
                <ContentPresenter ContentSource="SelectedContent"/>
              </Border>
            </Grid>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>
  </UserControl.Resources>
  <Grid Margin="{StaticResource ViewRootMargin}">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="320"/>
      <ColumnDefinition Width="1"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>

    <Border Grid.Column="1"
            Style="{StaticResource MasterDetailDivider}"/>

    <!-- SERVICE-LISTE LINKS -->
    <StackPanel Grid.Column="0"
                Margin="8,8,0,8"
                VerticalAlignment="Top">
      <TextBlock Text="{DynamicResource Nav.Connections}"
                 Style="{StaticResource SectionHeader}"
                 Margin="0,0,0,12"/>

      <ToggleButton x:Name="AccountsYouTubeTab"
                    Style="{StaticResource ServiceCardToggleButton}"
                    IsChecked="True"
                    Tag="YouTube"
                    Checked="AccountsServiceTab_Checked"
                    HorizontalContentAlignment="Stretch"
                    MinHeight="{StaticResource CardMinHeightS}"
                    Margin="0,0,0,12">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="72"/>
            <ColumnDefinition Width="{StaticResource SpacingM}"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="1"/>
            <ColumnDefinition Width="32"/>
          </Grid.ColumnDefinitions>

          <StackPanel Grid.Row="0"
                      Grid.Column="0"
                      VerticalAlignment="Center">
            <Border x:Name="YouTubeBadgeBorder"
                    Width="{StaticResource ThumbnailSizeM}"
                    Height="56"
                    Background="{StaticResource PlatformYouTubeBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="{StaticResource BorderThickness1}"
                    CornerRadius="6,6,0,0">
              <TextBlock Text="{DynamicResource Accounts.YouTube.Short}"
                         Foreground="White"
                         FontSize="{StaticResource FontSizeL}"
                         FontWeight="Bold"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"/>
            </Border>
            <ToggleButton x:Name="YouTubeAutoConnectToggle"
                          Style="{StaticResource ServiceCardAutoConnectToggleButton}"
                          Checked="YouTubeAutoConnectToggle_Checked"
                          Unchecked="YouTubeAutoConnectToggle_Unchecked"
                          Margin="0"
                          Width="{Binding ElementName=YouTubeBadgeBorder, Path=Width}"/>
            <TextBlock Text="{DynamicResource Accounts.YouTube.AutoConnect}"
                       FontSize="{StaticResource FontSizeXS}"
                       Foreground="{StaticResource TextMutedBrush}"
                       HorizontalAlignment="Center"
                       Margin="0,2,0,0"/>
          </StackPanel>
          <Grid Grid.Column="2"
                VerticalAlignment="Center">
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Grid.Row="0"
                       Text="{DynamicResource Accounts.YouTube}"
                       FontSize="{StaticResource FontSizeM}"
                       Foreground="{StaticResource TextPrimaryBrush}"
                       FontWeight="SemiBold"
                       TextTrimming="CharacterEllipsis"/>

            <StackPanel Grid.Row="1"
                        Orientation="Vertical"
                        Margin="0,4,0,0"
                        VerticalAlignment="Center">
              <Border x:Name="YouTubeServiceChipBorder"
                      Padding="{StaticResource PaddingCompact}"
                      CornerRadius="{StaticResource RadiusS}"
                      Background="{StaticResource SurfaceHoverBrush}"
                      BorderBrush="{StaticResource BorderBrush}"
                      BorderThickness="{StaticResource BorderThickness1}"
                      MaxWidth="200"
                      HorizontalAlignment="Left"
                      Margin="0,0,0,2">
                <TextBlock x:Name="YouTubeServiceChip"
                           Text="{DynamicResource Accounts.YouTube.Msg.NotConnected}"
                           FontSize="{StaticResource FontSizeXS}"
                           Foreground="{StaticResource TextMutedBrush}"
                           TextTrimming="CharacterEllipsis"/>
              </Border>
              <TextBlock x:Name="YouTubeLastSyncTextBlock"
                         Text="{DynamicResource Accounts.YouTube.LastSyncPlaceholder}"
                         FontSize="{StaticResource FontSizeXS}"
                         Foreground="{StaticResource TextMutedBrush}"
                         TextTrimming="CharacterEllipsis"
                         Margin="0"/>
            </StackPanel>
          </Grid>
          <Border Grid.Column="3"
                  Grid.Row="0"
                  Background="{StaticResource BorderBrush}"
                  Margin="0"
                  VerticalAlignment="Stretch"
                  HorizontalAlignment="Stretch"/>
          <TextBlock Grid.Column="4"
                     Grid.Row="0"
                     FontFamily="{StaticResource MaterialIconsFont}"
                     Text="&#xe5cc;"
                     FontSize="{StaticResource FontSizeM}"
                     Foreground="{StaticResource TextMutedBrush}"
                     VerticalAlignment="Center"
                     HorizontalAlignment="Center"/>
        </Grid>
      </ToggleButton>

      <ToggleButton x:Name="AccountsTikTokTab"
                    Style="{StaticResource ServiceCardToggleButton}"
                    IsEnabled="False"
                    Tag="TikTok"
                    Checked="AccountsServiceTab_Checked"
                    HorizontalContentAlignment="Stretch"
                    MinHeight="{StaticResource CardMinHeightS}"
                    Margin="0,0,0,12">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="72"/>
            <ColumnDefinition Width="{StaticResource SpacingM}"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="1"/>
            <ColumnDefinition Width="32"/>
          </Grid.ColumnDefinitions>
          <StackPanel Grid.Row="0"
                      Grid.Column="0"
                      VerticalAlignment="Center">
            <Border Width="{StaticResource ThumbnailSizeM}"
                    Height="56"
                    Background="Black"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="{StaticResource BorderThickness1}"
                    CornerRadius="6,6,0,0">
              <TextBlock Text="{DynamicResource Accounts.TikTok.Short}"
                         Foreground="White"
                         FontSize="{StaticResource FontSizeL}"
                         FontWeight="Bold"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"/>
            </Border>
            <ToggleButton Style="{StaticResource ServiceCardAutoConnectToggleButton}"
                          Margin="0"
                          Width="{StaticResource ThumbnailSizeM}"/>
            <TextBlock Text="{DynamicResource Accounts.YouTube.AutoConnect}"
                       FontSize="{StaticResource FontSizeXS}"
                       Foreground="{StaticResource TextMutedBrush}"
                       HorizontalAlignment="Center"
                       Margin="0,2,0,0"/>
          </StackPanel>
          <Grid Grid.Column="2"
                VerticalAlignment="Center">
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <TextBlock Grid.Row="0"
                       Text="{DynamicResource Platform.TikTok}"
                       FontSize="{StaticResource FontSizeM}"
                       Foreground="{StaticResource TextPrimaryBrush}"
                       FontWeight="SemiBold"/>
            <StackPanel Grid.Row="1"
                        Orientation="Vertical"
                        Margin="0,4,0,0"
                        VerticalAlignment="Center">
              <Border Padding="{StaticResource PaddingCompact}"
                      CornerRadius="{StaticResource RadiusS}"
                      Background="{StaticResource SurfaceHoverBrush}"
                      BorderBrush="{StaticResource BorderBrush}"
                      BorderThickness="{StaticResource BorderThickness1}"
                      MaxWidth="200"
                      HorizontalAlignment="Left"
                      Margin="0,0,0,2">
                <TextBlock Text="{DynamicResource Accounts.ComingSoon}"
                           FontSize="{StaticResource FontSizeXS}"
                           Foreground="{StaticResource TextMutedBrush}"
                           TextTrimming="CharacterEllipsis"/>
              </Border>
              <TextBlock Text="{DynamicResource Accounts.YouTube.LastSyncPlaceholder}"
                         FontSize="{StaticResource FontSizeXS}"
                         Foreground="{StaticResource TextMutedBrush}"
                         TextTrimming="CharacterEllipsis"
                         Margin="0"/>
            </StackPanel>
          </Grid>
          <Border Grid.Column="3"
                  Grid.Row="0"
                  Background="{StaticResource BorderBrush}"
                  Margin="0"
                  VerticalAlignment="Stretch"
                  HorizontalAlignment="Stretch"/>
          <TextBlock Grid.Column="4"
                     Grid.Row="0"
                     FontFamily="{StaticResource MaterialIconsFont}"
                     Text="&#xe5cc;"
                     FontSize="{StaticResource FontSizeM}"
                     Foreground="{StaticResource TextMutedBrush}"
                     VerticalAlignment="Center"
                     HorizontalAlignment="Center"/>
        </Grid>
      </ToggleButton>

      <ToggleButton x:Name="AccountsInstagramTab"
                    Style="{StaticResource ServiceCardToggleButton}"
                    IsEnabled="False"
                    Tag="Instagram"
                    Checked="AccountsServiceTab_Checked"
                    MinHeight="{StaticResource CardMinHeightS}">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="72"/>
            <ColumnDefinition Width="{StaticResource SpacingM}"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="1"/>
            <ColumnDefinition Width="32"/>
          </Grid.ColumnDefinitions>
          <StackPanel Grid.Row="0"
                      Grid.Column="0"
                      VerticalAlignment="Center">
            <Border Width="{StaticResource ThumbnailSizeM}"
                    Height="56"
                    Background="{StaticResource PlatformInstagramBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="{StaticResource BorderThickness1}"
                    CornerRadius="6,6,0,0">
              <TextBlock Text="{DynamicResource Accounts.Instagram.Short}"
                         Foreground="White"
                         FontSize="{StaticResource FontSizeL}"
                         FontWeight="Bold"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"/>
            </Border>
            <ToggleButton Style="{StaticResource ServiceCardAutoConnectToggleButton}"
                          Margin="0"
                          Width="{StaticResource ThumbnailSizeM}"/>
            <TextBlock Text="{DynamicResource Accounts.YouTube.AutoConnect}"
                       FontSize="{StaticResource FontSizeXS}"
                       Foreground="{StaticResource TextMutedBrush}"
                       HorizontalAlignment="Center"
                       Margin="0,2,0,0"/>
          </StackPanel>
          <Grid Grid.Column="2"
                VerticalAlignment="Center">
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <TextBlock Grid.Row="0"
                       Text="{DynamicResource Platform.Instagram}"
                       FontSize="{StaticResource FontSizeM}"
                       Foreground="{StaticResource TextPrimaryBrush}"
                       FontWeight="SemiBold"/>
            <StackPanel Grid.Row="1"
                        Orientation="Vertical"
                        Margin="0,4,0,0"
                        VerticalAlignment="Center">
              <Border Padding="{StaticResource PaddingCompact}"
                      CornerRadius="{StaticResource RadiusS}"
                      Background="{StaticResource SurfaceHoverBrush}"
                      BorderBrush="{StaticResource BorderBrush}"
                      BorderThickness="{StaticResource BorderThickness1}"
                      MaxWidth="200"
                      HorizontalAlignment="Left"
                      Margin="0,0,0,2">
                <TextBlock Text="{DynamicResource Accounts.ComingSoon}"
                           FontSize="{StaticResource FontSizeXS}"
                           Foreground="{StaticResource TextMutedBrush}"
                           TextTrimming="CharacterEllipsis"/>
              </Border>
              <TextBlock Text="{DynamicResource Accounts.YouTube.LastSyncPlaceholder}"
                         FontSize="{StaticResource FontSizeXS}"
                         Foreground="{StaticResource TextMutedBrush}"
                         TextTrimming="CharacterEllipsis"
                         Margin="0"/>
            </StackPanel>
          </Grid>
          <Border Grid.Column="3"
                  Grid.Row="0"
                  Background="{StaticResource BorderBrush}"
                  Margin="0"
                  VerticalAlignment="Stretch"
                  HorizontalAlignment="Stretch"/>
          <TextBlock Grid.Column="4"
                     Grid.Row="0"
                     FontFamily="{StaticResource MaterialIconsFont}"
                     Text="&#xe5cc;"
                     FontSize="{StaticResource FontSizeM}"
                     Foreground="{StaticResource TextMutedBrush}"
                     VerticalAlignment="Center"
                     HorizontalAlignment="Center"/>
        </Grid>
      </ToggleButton>
    </StackPanel>

    <!-- DETAILS RECHTS -->
    <Grid Grid.Column="2"
          Margin="12,8,8,8">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="{StaticResource SpacingXL}"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>

      <Grid Grid.Row="0">
        <TextBlock Text="{DynamicResource Accounts.YouTube}">
          <TextBlock.Style>
            <Style TargetType="TextBlock"
                   BasedOn="{StaticResource SectionHeader}">
              <Setter Property="Visibility"
                      Value="Collapsed"/>
              <Style.Triggers>
                <DataTrigger Binding="{Binding ElementName=AccountsYouTubeTab, Path=IsChecked}"
                             Value="True">
                  <Setter Property="Visibility"
                          Value="Visible"/>
                </DataTrigger>
              </Style.Triggers>
            </Style>
          </TextBlock.Style>
        </TextBlock>
        <TextBlock Text="{DynamicResource Platform.TikTok}">
          <TextBlock.Style>
            <Style TargetType="TextBlock"
                   BasedOn="{StaticResource SectionHeader}">
              <Setter Property="Visibility"
                      Value="Collapsed"/>
              <Style.Triggers>
                <DataTrigger Binding="{Binding ElementName=AccountsTikTokTab, Path=IsChecked}"
                             Value="True">
                  <Setter Property="Visibility"
                          Value="Visible"/>
                </DataTrigger>
              </Style.Triggers>
            </Style>
          </TextBlock.Style>
        </TextBlock>
        <TextBlock Text="{DynamicResource Platform.Instagram}">
          <TextBlock.Style>
            <Style TargetType="TextBlock"
                   BasedOn="{StaticResource SectionHeader}">
              <Setter Property="Visibility"
                      Value="Collapsed"/>
              <Style.Triggers>
                <DataTrigger Binding="{Binding ElementName=AccountsInstagramTab, Path=IsChecked}"
                             Value="True">
                  <Setter Property="Visibility"
                          Value="Visible"/>
                </DataTrigger>
              </Style.Triggers>
            </Style>
          </TextBlock.Style>
        </TextBlock>
      </Grid>

      <!-- CONTENT-BEREICHE PRO SERVICE -->
      <Grid Grid.Row="2">

            <!-- YOUTUBE CONTENT -->
            <Grid x:Name="AccountsYouTubeContent">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"
                                  MinWidth="320"/>
                <ColumnDefinition Width="{StaticResource SpacingXXL}"/>
                <ColumnDefinition Width="*"
                                  MinWidth="260"/>
              </Grid.ColumnDefinitions>

              <!-- LINKE SPALTE: STATUS + AKTIONEN -->
              <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="{StaticResource SpacingXL}"/>
                  <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Account-Status -->
                <GroupBox Grid.Row="0"
                          Header="{DynamicResource Accounts.YouTube.StatusTitle}">
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="Auto"/>
                      <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0"
                            Width="40"
                            Height="40"
                            CornerRadius="{StaticResource RadiusCircle}"
                            Background="{StaticResource PlatformYouTubeBrush}"
                            Margin="0,0,8,0">
                      <TextBlock Text="{DynamicResource Accounts.YouTube.Short}"
                                 Foreground="White"
                                 HorizontalAlignment="Center"
                                 VerticalAlignment="Center"
                                 FontWeight="Bold"
                                 FontSize="{StaticResource FontSizeM}"/>
                    </Border>

                    <StackPanel Grid.Column="1">
                      <TextBlock x:Name="YouTubeAccountStatusTextBlock"
                                 Text="{DynamicResource Accounts.YouTube.Msg.NotConnected}"
                                 Foreground="{StaticResource TextPrimaryBrush}"
                                 FontWeight="Medium"
                                 FontSize="{StaticResource FontSizeM}"/>
                      <TextBlock Text="{DynamicResource Accounts.YouTube.StatusHint}"
                                 Foreground="{StaticResource TextMutedBrush}"
                                 FontSize="{StaticResource FontSizeS}"
                                 Margin="0,2,0,0"/>

                      <Grid Margin="0,8,0,0">
                        <Grid.RowDefinitions>
                          <RowDefinition Height="Auto"/>
                          <RowDefinition Height="Auto"/>
                          <RowDefinition Height="Auto"/>
                          <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="Auto"/>
                          <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0"
                                   Grid.Column="0"
                                   Text="{DynamicResource Accounts.YouTube.Status.Label}"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   FontSize="{StaticResource FontSizeXS}"
                                   Margin="0,0,8,2"/>
                        <TextBlock Grid.Row="0"
                                   Grid.Column="1"
                                   Text="{Binding ElementName=YouTubeAccountStatusTextBlock, Path=Text}"
                                   Foreground="{StaticResource TextPrimaryBrush}"
                                   FontSize="{StaticResource FontSizeXS}"/>

                        <TextBlock Grid.Row="1"
                                   Grid.Column="0"
                                   Text="{DynamicResource Accounts.YouTube.Status.LastSync}"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   FontSize="{StaticResource FontSizeXS}"
                                   Margin="0,0,8,2"/>
                        <TextBlock x:Name="YouTubeLastSyncDetailTextBlock"
                                   Grid.Row="1"
                                   Grid.Column="1"
                                   Text="{DynamicResource Accounts.YouTube.LastSyncPlaceholder}"
                                   Foreground="{StaticResource TextPrimaryBrush}"
                                   FontSize="{StaticResource FontSizeXS}"/>

                        <TextBlock Grid.Row="2"
                                   Grid.Column="0"
                                   Text="{DynamicResource Accounts.YouTube.Status.Token}"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   FontSize="{StaticResource FontSizeXS}"
                                   Margin="0,0,8,2"/>
                        <TextBlock x:Name="YouTubeTokenStatusTextBlock"
                                   Grid.Row="2"
                                   Grid.Column="1"
                                   Text="{DynamicResource Accounts.YouTube.Status.TokenUnknown}"
                                   Foreground="{StaticResource TextPrimaryBrush}"
                                   FontSize="{StaticResource FontSizeXS}"/>

                        <TextBlock Grid.Row="3"
                                   Grid.Column="0"
                                   Text="{DynamicResource Accounts.YouTube.Status.AutoConnect}"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   FontSize="{StaticResource FontSizeXS}"
                                   Margin="0,0,8,0"/>
                        <TextBlock x:Name="YouTubeAutoConnectStatusTextBlock"
                                   Grid.Row="3"
                                   Grid.Column="1"
                                   Text="{DynamicResource Accounts.YouTube.Status.AutoConnectOff}"
                                   Foreground="{StaticResource TextPrimaryBrush}"
                                   FontSize="{StaticResource FontSizeXS}"/>
                      </Grid>

                      <TextBlock Text="{DynamicResource Accounts.YouTube.Status.AutoConnectHint}"
                                 Foreground="{StaticResource TextMutedBrush}"
                                 FontSize="{StaticResource FontSizeXS}"
                                 Margin="0,6,0,0"
                                 TextWrapping="Wrap"/>
                    </StackPanel>
                  </Grid>
                </GroupBox>

                <!-- Schnellaktionen -->
                <GroupBox Grid.Row="2"
                          Header="{DynamicResource Accounts.YouTube.ActionsTitle}">
                  <UniformGrid Columns="4"
                               Margin="0,4,0,0">
                    <Button x:Name="YouTubeReconnectButton"
                            Content="{DynamicResource Accounts.YouTube.Action.Reconnect}"
                            Style="{StaticResource PrimaryButton}"
                            ap:ButtonIcon.Glyph="&#xe5d5;"
                            Click="YouTubeConnectButton_Click"
                            MinHeight="32"
                            Margin="0,0,8,0"/>
                    <Button x:Name="YouTubeRefreshButton"
                            Content="{DynamicResource Accounts.YouTube.Action.Refresh}"
                            Style="{StaticResource SecondaryButton}"
                            ap:ButtonIcon.Glyph="&#xe5d5;"
                            Click="YouTubeRefreshButton_Click"
                            MinHeight="32"
                            Margin="0,0,8,0"/>
                    <Button x:Name="YouTubeDisconnectButton"
                            Content="{DynamicResource Accounts.YouTube.Action.Disconnect}"
                            Style="{StaticResource SecondaryButton}"
                            ap:ButtonIcon.Glyph="&#xe161;"
                            Click="YouTubeDisconnectButton_Click"
                            MinHeight="32"
                            Margin="0,0,8,0"/>
                    <Button x:Name="YouTubeLogsButton"
                            Content="{DynamicResource Accounts.YouTube.Action.Logs}"
                            Style="{StaticResource SecondaryButton}"
                            ap:ButtonIcon.Glyph="&#xe872;"
                            Click="YouTubeOpenLogsButton_Click"
                            MinHeight="32"/>
                  </UniformGrid>
                </GroupBox>

              </Grid>

              <!-- RECHTE SPALTE: STATS + STANDARD -->
              <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                  <RowDefinition Height="Auto"/>
                  <RowDefinition Height="{StaticResource SpacingXL}"/>
                  <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Statistik-Snapshot -->
                <GroupBox Grid.Row="0"
                          Header="{DynamicResource Accounts.YouTube.StatsTitle}">
                  <StackPanel>
                    <Grid>
                      <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                      </Grid.RowDefinitions>
                      <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                      </Grid.ColumnDefinitions>

                      <TextBlock Grid.Row="0"
                                 Grid.Column="0"
                                 Text="{DynamicResource Accounts.YouTube.Stats.Uploads7Days}"
                                 Foreground="{StaticResource TextMutedBrush}"
                                 FontSize="{StaticResource FontSizeXS}"
                                 Margin="0,0,8,2"/>
                    <TextBlock x:Name="YouTubeUploads7DaysTextBlock"
                               Grid.Row="0"
                               Grid.Column="1"
                               Text="{DynamicResource Accounts.Stats.Zero}"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               FontSize="{StaticResource FontSizeXS}"/>

                      <TextBlock Grid.Row="1"
                                 Grid.Column="0"
                                 Text="{DynamicResource Accounts.YouTube.Stats.Uploads30Days}"
                                 Foreground="{StaticResource TextMutedBrush}"
                                 FontSize="{StaticResource FontSizeXS}"
                                 Margin="0,0,8,2"/>
                    <TextBlock x:Name="YouTubeUploads30DaysTextBlock"
                               Grid.Row="1"
                               Grid.Column="1"
                               Text="{DynamicResource Accounts.Stats.Zero}"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               FontSize="{StaticResource FontSizeXS}"/>

                      <TextBlock Grid.Row="2"
                                 Grid.Column="0"
                                 Text="{DynamicResource Accounts.YouTube.Stats.LastSuccess}"
                                 Foreground="{StaticResource TextMutedBrush}"
                                 FontSize="{StaticResource FontSizeXS}"
                                 Margin="0,0,8,0"/>
                    <TextBlock x:Name="YouTubeLastActionTextBlock"
                               Grid.Row="2"
                               Grid.Column="1"
                               Text="{DynamicResource Accounts.Stats.EmptyDate}"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               FontSize="{StaticResource FontSizeXS}"/>
                    </Grid>
                    <TextBlock Text="{DynamicResource Accounts.YouTube.Stats.Hint}"
                               Foreground="{StaticResource TextMutedBrush}"
                               FontSize="{StaticResource FontSizeXS}"
                               Margin="0,6,0,0"/>
                  </StackPanel>
                </GroupBox>

                <!-- Standard-Einstellungen -->
                <GroupBox Grid.Row="2"
                          Header="{DynamicResource Accounts.YouTube.SettingsTitle}">
                  <StackPanel>
                    <TextBlock Text="{DynamicResource Accounts.YouTube.Settings.Description}"
                               FontSize="{StaticResource FontSizeS}"
                               Foreground="{StaticResource TextMutedBrush}"
                               TextWrapping="Wrap"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="{DynamicResource Accounts.YouTube.Settings.DefaultPlaylist}"
                               FontSize="{StaticResource FontSizeXS}"
                               Foreground="{StaticResource TextMutedBrush}"
                               Margin="0,0,0,4"/>
                    <ListBox x:Name="YouTubePlaylistsListBox"
                             DisplayMemberPath="Title"
                             Height="160"
                             SelectionChanged="YouTubePlaylistsListBox_SelectionChanged"/>

                    <Grid Margin="0,8,0,0">
                      <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                      </Grid.RowDefinitions>
                      <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                      </Grid.ColumnDefinitions>

                      <TextBlock Grid.Row="0"
                                 Grid.Column="0"
                                 Text="{DynamicResource Accounts.YouTube.Settings.DefaultVisibility}"
                                 Foreground="{StaticResource TextMutedBrush}"
                                 FontSize="{StaticResource FontSizeXS}"
                                 Margin="0,0,8,2"/>
                      <TextBlock x:Name="YouTubeDefaultVisibilityTextBlock"
                                 Grid.Row="0"
                                 Grid.Column="1"
                                 Text="{DynamicResource Accounts.NotAvailable}"
                                 Foreground="{StaticResource TextPrimaryBrush}"
                                 FontSize="{StaticResource FontSizeXS}"/>

                      <TextBlock Grid.Row="1"
                                 Grid.Column="0"
                                 Text="{DynamicResource Accounts.YouTube.Settings.Locale}"
                                 Foreground="{StaticResource TextMutedBrush}"
                                 FontSize="{StaticResource FontSizeXS}"
                                 Margin="0,0,8,0"/>
                      <TextBlock x:Name="YouTubeLocaleTextBlock"
                                 Grid.Row="1"
                                 Grid.Column="1"
                                 Text="{DynamicResource Accounts.YouTube.Settings.LocaleAuto}"
                                 Foreground="{StaticResource TextPrimaryBrush}"
                                 FontSize="{StaticResource FontSizeXS}"/>
                    </Grid>
                  </StackPanel>
                </GroupBox>

              </Grid>
            </Grid>

            <!-- TIKTOK CONTENT (PLATZHALTER) -->
            <Grid x:Name="AccountsTikTokContent"
                  Visibility="Collapsed">
              <TextBlock Text="{DynamicResource Accounts.ComingSoon}"
                         FontSize="{StaticResource FontSizeS}"
                         Foreground="{StaticResource TextMutedBrush}"
                         TextWrapping="Wrap"
                         VerticalAlignment="Top"
                         Margin="0,8,0,0"/>
            </Grid>

            <!-- INSTAGRAM CONTENT (PLATZHALTER) -->
            <Grid x:Name="AccountsInstagramContent"
                  Visibility="Collapsed">
              <TextBlock Text="{DynamicResource Accounts.ComingSoon}"
                         FontSize="{StaticResource FontSizeS}"
                         Foreground="{StaticResource TextMutedBrush}"
                         TextWrapping="Wrap"
                         VerticalAlignment="Top"
                         Margin="0,8,0,0"/>
            </Grid>

          </Grid>
        </Grid>
      </Grid>
</UserControl>
