<UserControl x:Class="DCM.App.Views.ChannelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:core="clr-namespace:DCM.Core.Models;assembly=DCM.Core"
             xmlns:config="clr-namespace:DCM.Core.Configuration;assembly=DCM.Core">
<!-- wie PageUpload: Grid füllt die Breite, nur ein rechter Margin -->
<Grid Margin="{StaticResource ViewRootMargin}">

  <Grid.RowDefinitions>
    <RowDefinition Height="Auto"/>
    <!-- Inhalt -->
  </Grid.RowDefinitions>

  <!-- ZWEI-SPALTEN-LAYOUT wie bei Upload -->
  <Grid Grid.Row="0"
        VerticalAlignment="Top">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*"
                        MinWidth="350"/>
      <ColumnDefinition Width="{StaticResource SpacingXXL}"/>
      <ColumnDefinition Width="*"
                        MinWidth="300"
                        MaxWidth="400"/>
    </Grid.ColumnDefinitions>

    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <!-- obere Boxen -->
      <RowDefinition Height="{StaticResource SpacingXL}"/>
      <!-- Abstand -->
      <RowDefinition Height="Auto"/>
      <!-- untere Box -->
    </Grid.RowDefinitions>

    <!-- BOX 1: Kanalprofil (links) -->
    <GroupBox Grid.Row="0"
              Grid.Column="0"
              Header="{DynamicResource Channel.Persona.Profile}">
      <Grid Margin="8">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Name mit Help-Icon -->
        <StackPanel Grid.Row="0"
                    Style="{StaticResource LabelWithHelpContainer}">
          <TextBlock Text="{DynamicResource Channel.Fields.Name}"
                     Style="{StaticResource TextLabel}"/>
          <Border Style="{StaticResource HelpIconButton}"
                  ToolTip="{DynamicResource Channel.Example.Name}">
            <TextBlock Style="{StaticResource HelpIconGlyph}"/>
          </Border>
        </StackPanel>
        <Grid Grid.Row="1"
              Margin="{StaticResource LabelMarginBottomL}">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <TextBox Grid.Column="0"
                   x:Name="ChannelPersonaNameTextBox"
                   TextChanged="OnSettingChanged"/>
          <Border Grid.Column="1"
                  x:Name="NameValidationIcon"
                  Visibility="Collapsed"
                  VerticalAlignment="Center"
                  Margin="8,0,0,0">
            <TextBlock Style="{StaticResource ValidationIcon}"/>
          </Border>
        </Grid>

        <!-- Kanalname mit Help-Icon -->
        <StackPanel Grid.Row="2"
                    Style="{StaticResource LabelWithHelpContainer}">
          <TextBlock Text="{DynamicResource Channel.Fields.ChannelName}"
                     Style="{StaticResource TextLabel}"/>
          <Border Style="{StaticResource HelpIconButton}"
                  ToolTip="{DynamicResource Channel.Example.ChannelName}">
            <TextBlock Style="{StaticResource HelpIconGlyph}"/>
          </Border>
        </StackPanel>
        <Grid Grid.Row="3">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <TextBox Grid.Column="0"
                   x:Name="ChannelPersonaChannelNameTextBox"
                   TextChanged="OnSettingChanged"/>
          <Border Grid.Column="1"
                  x:Name="ChannelNameValidationIcon"
                  Visibility="Collapsed"
                  VerticalAlignment="Center"
                  Margin="8,0,0,0">
            <TextBlock Style="{StaticResource ValidationIcon}"/>
          </Border>
        </Grid>
      </Grid>
    </GroupBox>

    <!-- BOX 2: Sprache & Stil (rechts) -->
    <GroupBox Grid.Row="0"
              Grid.Column="2"
              Header="{DynamicResource Channel.Persona.Style}">
      <Grid Margin="8">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Sprache mit Help-Icon -->
        <StackPanel Grid.Row="0"
                    Style="{StaticResource LabelWithHelpContainer}">
          <TextBlock Text="{DynamicResource Channel.Fields.Language}"
                     Style="{StaticResource TextLabel}"/>
          <Border Style="{StaticResource HelpIconButton}"
                  ToolTip="{DynamicResource Channel.Example.Language}">
            <TextBlock Style="{StaticResource HelpIconGlyph}"/>
          </Border>
        </StackPanel>
        <ComboBox Grid.Row="1"
                  x:Name="ChannelPersonaLanguageTextBox"
                  IsEditable="True"
                  IsTextSearchEnabled="True"
                  StaysOpenOnEdit="True"
                  MinWidth="{StaticResource InputMinWidthM}"
                  Margin="{StaticResource LabelMarginBottomL}"
                  SelectionChanged="OnComboBoxSettingChanged"/>

        <!-- Tonalität mit Help-Icon -->
        <StackPanel Grid.Row="2"
                    Style="{StaticResource LabelWithHelpContainer}">
          <TextBlock Text="{DynamicResource Channel.Fields.ToneOfWords}"
                     Style="{StaticResource TextLabel}"/>
          <Border Style="{StaticResource HelpIconButton}"
                  ToolTip="{DynamicResource Channel.Example.Tone}">
            <TextBlock Style="{StaticResource HelpIconGlyph}"/>
          </Border>
        </StackPanel>
        <TextBox Grid.Row="3"
                 x:Name="ChannelPersonaToneOfVoiceTextBox"
                 Margin="{StaticResource LabelMarginBottomL}"
                 TextChanged="OnSettingChanged"/>

        <!-- Content-Typ mit Help-Icon -->
        <StackPanel Grid.Row="4"
                    Style="{StaticResource LabelWithHelpContainer}">
          <TextBlock Text="{DynamicResource Channel.Fields.ContentType}"
                     Style="{StaticResource TextLabel}"/>
          <Border Style="{StaticResource HelpIconButton}"
                  ToolTip="{DynamicResource Channel.Example.ContentType}">
            <TextBlock Style="{StaticResource HelpIconGlyph}"/>
          </Border>
        </StackPanel>
        <TextBox Grid.Row="5"
                 x:Name="ChannelPersonaContentTypeTextBox"
                 Margin="{StaticResource LabelMarginBottomL}"
                 TextChanged="OnSettingChanged"/>

        <!-- Zielgruppe mit Help-Icon -->
        <StackPanel Grid.Row="6"
                    Style="{StaticResource LabelWithHelpContainer}">
          <TextBlock Text="{DynamicResource Channel.Fields.TargetAudience}"
                     Style="{StaticResource TextLabel}"/>
          <Border Style="{StaticResource HelpIconButton}"
                  ToolTip="{DynamicResource Channel.Example.TargetAudience}">
            <TextBlock Style="{StaticResource HelpIconGlyph}"/>
          </Border>
        </StackPanel>
        <TextBox Grid.Row="7"
                 x:Name="ChannelPersonaTargetAudienceTextBox"
                 TextChanged="OnSettingChanged"/>
      </Grid>
    </GroupBox>

    <!-- BOX 3: Zusätzliche Hinweise (unten, volle Breite) -->
    <GroupBox Grid.Row="2"
              Grid.Column="0"
              Grid.ColumnSpan="3"
              Header="{DynamicResource Channel.Persona.Additional}">
      <Grid Margin="8">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Zusätzliche Anweisungen mit Help-Icon -->
        <StackPanel Grid.Row="0"
                    Style="{StaticResource LabelWithHelpContainer}">
          <TextBlock Text="{DynamicResource Channel.Fields.AdditionalInstructions}"
                     Foreground="{StaticResource TextMutedBrush}"
                     FontSize="{StaticResource FontSizeM}"/>
          <Border Style="{StaticResource HelpIconButton}"
                  ToolTip="{DynamicResource Channel.Tooltip.Additional.Example}">
            <TextBlock Style="{StaticResource HelpIconGlyph}"/>
          </Border>
        </StackPanel>
        <TextBox Grid.Row="1"
                 x:Name="ChannelPersonaAdditionalInstructionsTextBox"
                 Margin="{StaticResource LabelMarginTop}"
                 AcceptsReturn="True"
                 TextWrapping="Wrap"
                 VerticalScrollBarVisibility="Auto"
                 Height="80"
                 TextChanged="OnSettingChanged"/>
      </Grid>
    </GroupBox>

  </Grid>
</Grid>
</UserControl>
