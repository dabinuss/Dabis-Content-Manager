<Window x:Class="DCM.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:core="clr-namespace:DCM.Core.Models;assembly=DCM.Core"
        xmlns:config="clr-namespace:DCM.Core.Configuration;assembly=DCM.Core"
        xmlns:views="clr-namespace:DCM.App.Views"
        Title="{DynamicResource App.WindowTitle}"
        Height="900"
        Width="1366"
        MinHeight="600"
        MinWidth="900"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">

  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="220"/>
      <ColumnDefinition Width="1"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>

    <!-- Linke Sidebar -->
    <Border Grid.Column="0"
            Background="{StaticResource SidebarBrush}">
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Logo / App Name -->
        <StackPanel Grid.Row="0"
                    Margin="{StaticResource SidebarPadding}">
          <Image Source="/DCM.App;component/Assets/logo.png"
                 Width="180"
                 Height="59"
                 Stretch="Uniform"
                 Margin="{StaticResource SpacingVerticalM}"/>
          <TextBlock Text="{DynamicResource App.Name}"
                     FontSize="{StaticResource FontSizeL}"
                     FontWeight="SemiBold"
                     Foreground="{StaticResource TextPrimaryBrush}"/>
          <TextBlock FontSize="{StaticResource FontSizeS}"
                     Foreground="{StaticResource TextMutedBrush}"
                     Margin="0,2,0,0">
                        <Run Text="{Binding AppVersion, RelativeSource={RelativeSource AncestorType=Window}}"/>
                        <Run Text=" · "/>
                        <Hyperlink Click="CheckUpdatesHyperlink_Click">
                            <Run Text="{DynamicResource App.CheckUpdates}"/>
                        </Hyperlink>
          </TextBlock>
        </StackPanel>

        <!-- Trennlinie -->
        <Border Grid.Row="1"
                Height="1"
                Background="{StaticResource BorderBrush}"
                Margin="12,0,12,8"/>

        <!-- Navigation -->
        <StackPanel Grid.Row="2">
          <RadioButton x:Name="NavUpload"
                       Style="{StaticResource SidebarNavButton}"
                       IsChecked="True"
                       Checked="NavButton_Checked"
                       Tag="0">
            <StackPanel Orientation="Horizontal">
              <TextBlock Style="{StaticResource IconXL}"
                         Text="&#xf09b;"
                         Margin="0,0,24,0"/>
              <TextBlock Text="{DynamicResource Nav.Uploads}"
                         FontWeight="SemiBold"
                         FontSize="{StaticResource FontSizeM}"
                         VerticalAlignment="Center"/>
            </StackPanel>
          </RadioButton>

          <RadioButton x:Name="NavAccounts"
                       Style="{StaticResource SidebarNavButton}"
                       Checked="NavButton_Checked"
                       Tag="1">
            <StackPanel Orientation="Horizontal">
              <TextBlock Style="{StaticResource IconXL}"
                         Text="&#xe1a0;"
                         Margin="0,0,24,0"/>
              <TextBlock Text="{DynamicResource Nav.Accounts}"
                         FontWeight="SemiBold"
                         FontSize="{StaticResource FontSizeM}"
                         VerticalAlignment="Center"/>
            </StackPanel>
          </RadioButton>

          <RadioButton x:Name="NavChannel"
                       Style="{StaticResource SidebarNavButton}"
                       Checked="NavButton_Checked"
                       Tag="2">
            <StackPanel Orientation="Horizontal">
              <TextBlock Style="{StaticResource IconXL}"
                         Text="&#xf8d1;"
                         Margin="0,0,24,0"/>
              <TextBlock Text="{DynamicResource Nav.Channels}"
                         FontWeight="SemiBold"
                         FontSize="{StaticResource FontSizeM}"
                         VerticalAlignment="Center"/>
            </StackPanel>
          </RadioButton>

          <RadioButton x:Name="NavTemplates"
                       Style="{StaticResource SidebarNavButton}"
                       Checked="NavButton_Checked"
                       Tag="3">
            <StackPanel Orientation="Horizontal">
              <TextBlock Style="{StaticResource IconXL}"
                         Text="&#xe02f;"
                         Margin="0,0,24,0"/>
              <TextBlock Text="{DynamicResource Nav.Templates}"
                         FontWeight="SemiBold"
                         FontSize="{StaticResource FontSizeM}"
                         VerticalAlignment="Center"/>
            </StackPanel>
          </RadioButton>

          <RadioButton x:Name="NavHistory"
                       Style="{StaticResource SidebarNavButton}"
                       Checked="NavButton_Checked"
                       Tag="4">
            <StackPanel Orientation="Horizontal">
              <TextBlock Style="{StaticResource IconXL}"
                         Text="&#xe889;"
                         Margin="0,0,24,0"/>
              <TextBlock Text="{DynamicResource Nav.History}"
                         FontWeight="SemiBold"
                         FontSize="{StaticResource FontSizeM}"
                         VerticalAlignment="Center"/>
            </StackPanel>
          </RadioButton>

          <RadioButton x:Name="NavSettings"
                       Style="{StaticResource SidebarNavButton}"
                       Checked="NavButton_Checked"
                       Tag="5">
            <StackPanel Orientation="Horizontal">
              <TextBlock Style="{StaticResource IconXL}"
                         Text="&#xe8b8;"
                         Margin="0,0,24,0"/>
              <TextBlock Text="{DynamicResource Nav.Settings}"
                         FontWeight="SemiBold"
                         FontSize="{StaticResource FontSizeM}"
                         VerticalAlignment="Center"/>
            </StackPanel>
          </RadioButton>
        </StackPanel>

        <!-- Footer in Sidebar -->
        <StackPanel Grid.Row="3"
                    Margin="{StaticResource SidebarPadding}">
          <Border Height="1"
                  Background="{StaticResource BorderBrush}"
                  Margin="0,0,0,12"/>

          <TextBlock x:Name="LogLinkTextBlock"
                     FontSize="{StaticResource FontSizeM}"
                     Cursor="Hand"
                     Margin="{StaticResource SpacingVerticalM}"
                     MouseLeftButtonDown="LogLink_Click"
                     ToolTip="Anwendungs-Log anzeigen">
            <TextBlock.Style>
              <Style TargetType="TextBlock">
                <Setter Property="Foreground"
                        Value="{StaticResource TextMutedBrush}"/>
                <Setter Property="Text"
                        Value="📋 Log"/>
                <Style.Triggers>
                  <Trigger Property="IsMouseOver"
                           Value="True">
                    <Setter Property="Foreground"
                            Value="{StaticResource PrimaryBrush}"/>
                  </Trigger>
                </Style.Triggers>
              </Style>
            </TextBlock.Style>
          </TextBlock>

          <TextBlock FontSize="{StaticResource FontSizeS}"
                     Margin="{StaticResource SpacingVerticalM}">
                        <Hyperlink NavigateUri="https://github.com/dabinuss/Dabis-Content-Manager"
                                   RequestNavigate="OpenUrlInBrowser">
                            <Run Text="{DynamicResource App.Github}"/>
                        </Hyperlink>
          </TextBlock>

          <TextBlock Text="{DynamicResource App.Copyright}"
                     FontSize="{StaticResource FontSizeXS}"
                     Foreground="{StaticResource TextMutedBrush}"/>
        </StackPanel>
      </Grid>
    </Border>

    <!-- Trennlinie zwischen Sidebar und Content -->
    <Border Grid.Column="1"
            Background="{StaticResource BorderBrush}"/>

    <!-- Hauptbereich -->
    <Grid Grid.Column="2">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>

      <!-- Header mit Status und Progress -->
      <Border Grid.Row="0"
              Background="{StaticResource SurfaceBrush}"
              BorderBrush="{StaticResource BorderBrush}"
              BorderThickness="0,0,0,1"
              Padding="{StaticResource HeaderPadding}">
        <DockPanel>
          <StackPanel Orientation="Horizontal"
                      DockPanel.Dock="Left"
                      VerticalAlignment="Center">
            <TextBlock Text="{DynamicResource Status}"
                       Foreground="{StaticResource TextMutedBrush}"
                       FontSize="{StaticResource FontSizeM}"
                       Margin="0,0,6,0"/>
            <TextBlock x:Name="StatusTextBlock"
                       Text="{DynamicResource Status.Ready}"
                       Foreground="{StaticResource TextPrimaryBrush}"
                       FontSize="{StaticResource FontSizeM}"
                       FontWeight="SemiBold"/>
          </StackPanel>

          <StackPanel Orientation="Horizontal"
                      DockPanel.Dock="Right"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Center">
            <ProgressBar x:Name="UploadProgressBar"
                         Width="160"
                         Height="14"
                         Minimum="0"
                         Maximum="100"
                         Value="0"
                         Visibility="Collapsed"
                         Margin="{StaticResource SpacingHorizontalM}"/>
            <TextBlock x:Name="UploadProgressLabel"
                       VerticalAlignment="Center"
                       Foreground="{StaticResource TextMutedBrush}"
                       FontSize="{StaticResource FontSizeS}"
                       Text=""
                       Visibility="Collapsed"/>
          </StackPanel>
        </DockPanel>
      </Border>

      <!-- Content Pages -->
      <Grid Grid.Row="1"
            Margin="{StaticResource ContentPadding}">

        <!-- Page 0: Neuer Upload -->
        <ScrollViewer x:Name="PageUpload"
                      VerticalScrollBarVisibility="Auto"
                      Visibility="Visible">
          <views:UploadView x:Name="UploadPageView"/>
        </ScrollViewer>

        <!-- Page 1: Konten -->
        <ScrollViewer x:Name="PageAccounts"
                      VerticalScrollBarVisibility="Auto"
                      Visibility="Collapsed">
          <views:AccountsView x:Name="AccountsPageView"/>
        </ScrollViewer>

        <!-- Page 2: Kanalprofil -->
        <ScrollViewer x:Name="PageChannel"
                      VerticalScrollBarVisibility="Auto"
                      Visibility="Collapsed">
          <views:ChannelView x:Name="ChannelPageView"/>
        </ScrollViewer>

        <!-- Page 3: Templates -->
        <Grid x:Name="PageTemplates"
              Visibility="Collapsed">
          <views:TemplatesView x:Name="TemplatesPageView"/>
        </Grid>

        <!-- Page 4: Historie -->
        <Grid x:Name="PageHistory"
              Visibility="Collapsed">
          <views:HistoryView x:Name="HistoryPageView"/>
        </Grid>

        <!-- Page 5: Einstellungen -->
        <ScrollViewer x:Name="PageSettings"
                      VerticalScrollBarVisibility="Auto"
                      Visibility="Collapsed">
          <views:SettingsView x:Name="SettingsPageView"/>
        </ScrollViewer>
      </Grid>
    </Grid>
  </Grid>
</Window>
