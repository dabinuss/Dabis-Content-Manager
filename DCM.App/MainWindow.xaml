<Window x:Class="DCM.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:core="clr-namespace:DCM.Core.Models;assembly=DCM.Core"
        xmlns:config="clr-namespace:DCM.Core.Configuration;assembly=DCM.Core"
        xmlns:views="clr-namespace:DCM.App.Views"
        xmlns:ap="clr-namespace:DCM.App.Infrastructure.AttachedProperties"
        xmlns:conv="clr-namespace:DCM.App.Infrastructure.Converters"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        Title="{DynamicResource App.WindowTitle}"
        Height="900"
        Width="1366"
        MinHeight="600"
        MinWidth="900"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="CanResize"
        Background="{StaticResource BackgroundBrush}">

  <WindowChrome.WindowChrome>
    <shell:WindowChrome CaptionHeight="0"
                        CornerRadius="0"
                        GlassFrameThickness="0"
                        ResizeBorderThickness="6"
                        UseAeroCaptionButtons="False"/>
  </WindowChrome.WindowChrome>

  <Window.Resources>
    <conv:LanguageCodeToFlagEmojiConverter x:Key="LanguageCodeToFlagEmojiConverter"/>
    <ControlTemplate x:Key="TitleBarButtonTemplate"
                     TargetType="Button">
      <Border Background="{TemplateBinding Background}"
              CornerRadius="{StaticResource RadiusS}">
        <ContentPresenter HorizontalAlignment="Center"
                          VerticalAlignment="Center"/>
      </Border>
    </ControlTemplate>

    <Style x:Key="TitleBarButtonBaseStyle"
           TargetType="Button">
      <Setter Property="Width"
              Value="38"/>
      <Setter Property="Height"
              Value="28"/>
      <Setter Property="Margin"
              Value="0,0,4,0"/>
      <Setter Property="Padding"
              Value="0"/>
      <Setter Property="FontFamily"
              Value="{StaticResource MaterialIconsFont}"/>
      <Setter Property="FontSize"
              Value="12"/>
      <Setter Property="Foreground"
              Value="{StaticResource TextPrimaryBrush}"/>
      <Setter Property="Background"
              Value="Transparent"/>
      <Setter Property="BorderThickness"
              Value="0"/>
      <Setter Property="Cursor"
              Value="Hand"/>
      <Setter Property="Template"
              Value="{StaticResource TitleBarButtonTemplate}"/>
    </Style>

    <Style x:Key="TitleBarButtonStyle"
           TargetType="Button"
           BasedOn="{StaticResource TitleBarButtonBaseStyle}">
      <Style.Triggers>
        <Trigger Property="IsMouseOver"
                 Value="True">
          <Setter Property="Background"
                  Value="{StaticResource SurfaceHoverBrush}"/>
        </Trigger>
        <Trigger Property="IsPressed"
                 Value="True">
          <Setter Property="Background"
                  Value="{StaticResource SurfacePressedBrush}"/>
        </Trigger>
      </Style.Triggers>
    </Style>

    <Style x:Key="TitleBarCloseButtonStyle"
           TargetType="Button"
           BasedOn="{StaticResource TitleBarButtonBaseStyle}">
      <Setter Property="Foreground"
              Value="{StaticResource DangerBrush}"/>
      <Style.Triggers>
        <Trigger Property="IsMouseOver"
                 Value="True">
          <Setter Property="Background"
                  Value="{StaticResource DangerBrush}"/>
          <Setter Property="Foreground"
                  Value="{StaticResource PrimaryTextBrush}"/>
        </Trigger>
        <Trigger Property="IsPressed"
                 Value="True">
          <Setter Property="Background"
                  Value="{StaticResource AccentRedHoverBrush}"/>
          <Setter Property="Foreground"
                  Value="{StaticResource PrimaryTextBrush}"/>
        </Trigger>
      </Style.Triggers>
    </Style>

    <Style x:Key="PageBreadcrumbStyle"
           TargetType="TextBlock">
      <Setter Property="FontSize"
              Value="{StaticResource FontSizeXS}"/>
      <Setter Property="Foreground"
              Value="{StaticResource TextMutedBrush}"/>
      <Setter Property="TextTrimming"
              Value="CharacterEllipsis"/>
    </Style>

    <Style x:Key="PageTitleStyle"
           TargetType="TextBlock">
      <Setter Property="FontSize"
              Value="{StaticResource FontSizeL}"/>
      <Setter Property="FontWeight"
              Value="SemiBold"/>
      <Setter Property="Foreground"
              Value="{StaticResource TextPrimaryBrush}"/>
    </Style>

    <Style x:Key="PageContextStyle"
           TargetType="TextBlock">
      <Setter Property="FontSize"
              Value="{StaticResource FontSizeXS}"/>
      <Setter Property="Foreground"
              Value="{StaticResource TextMutedBrush}"/>
      <Setter Property="TextWrapping"
              Value="Wrap"/>
    </Style>

    <Style x:Key="HeaderStatusTextStyle"
           TargetType="TextBlock">
      <Setter Property="FontSize"
              Value="{StaticResource FontSizeS}"/>
      <Setter Property="Foreground"
              Value="{StaticResource TextPrimaryBrush}"/>
    </Style>
  </Window.Resources>

  <Border BorderBrush="{StaticResource BorderBrush}"
          BorderThickness="1"
          SnapsToDevicePixels="True">

    <Grid Background="{StaticResource SurfaceSunkenBrush}">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>

      <Border Grid.Row="0"
              Grid.RowSpan="4"
              Height="3"
              HorizontalAlignment="Stretch"
              VerticalAlignment="Top"
              Background="{StaticResource MagicAIGradientBrush}"
              Panel.ZIndex="5"
              IsHitTestVisible="False"/>

      <!-- Top Navigation -->
      <Border Grid.Row="0"
              Background="{StaticResource SurfaceElevatedBrush}"
              BorderBrush="{StaticResource BorderBrush}"
              BorderThickness="0,0,0,1"
              MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="280"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <Border Grid.Column="0"
                  BorderBrush="{StaticResource BorderBrush}"
                  BorderThickness="0,0,1,0">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="1"/>
                <RowDefinition Height="Auto"/>
              </Grid.RowDefinitions>

              <StackPanel Grid.Row="0"
                          Margin="12,10,12,6">
                <Image Source="/DCM.App;component/Assets/logo.png"
                       Width="150"
                       Height="52"
                       Stretch="Uniform"
                       HorizontalAlignment="Left"
                       Margin="0,0,0,10"/>
                <TextBlock Text="{DynamicResource App.Name}"
                           FontSize="{StaticResource FontSizeM}"
                           FontWeight="SemiBold"
                           Foreground="{StaticResource TextPrimaryBrush}"/>
                <StackPanel Orientation="Horizontal"
                            Margin="0,4,0,0">
                  <TextBlock FontSize="{StaticResource FontSizeXS}"
                             Foreground="{StaticResource TextMutedBrush}">
                    <Run Text="{Binding AppVersion, RelativeSource={RelativeSource AncestorType=Window}}"/>
                  </TextBlock>
                  <TextBlock FontSize="{StaticResource FontSizeXS}"
                             Foreground="{StaticResource TextMutedBrush}"
                             Margin="8,0,0,0">
                    <Hyperlink Click="CheckUpdatesHyperlink_Click">
                      <Run Text="{DynamicResource App.CheckUpdates}"/>
                    </Hyperlink>
                  </TextBlock>
                </StackPanel>
              </StackPanel>

              <Border Grid.Row="1"
                      Height="1"
                      Background="{StaticResource BorderBrush}"
                      Margin="12,0,12,0"/>

              <TextBlock x:Name="PageBreadcrumbTextBlock"
                         Grid.Row="2"
                         Style="{StaticResource PageBreadcrumbStyle}"
                         Margin="12,6,12,10"
                         Text="{DynamicResource Page.Breadcrumb.Default}"/>
            </Grid>
          </Border>

          <Grid Grid.Column="1">
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0"
                  Margin="0">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>

              <StackPanel Grid.Column="0"
                          Orientation="Horizontal"
                          VerticalAlignment="Center">
                <RadioButton x:Name="MainNavUploads"
                             Style="{StaticResource TopNavMainButton}"
                             GroupName="MainMenu"
                             IsChecked="True"
                             Checked="MainMenu_Checked"
                             Tag="0">
                  <StackPanel Margin="0,20">
                    <TextBlock Style="{StaticResource IconXXL}"
                               Text="&#xf09b;"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="{DynamicResource Nav.Uploads}"
                               FontWeight="SemiBold"
                               FontSize="{StaticResource FontSizeM}"
                               Margin="0,6,0,0"
                               HorizontalAlignment="Center"/>
                  </StackPanel>
                </RadioButton>

                <RadioButton x:Name="MainNavConnections"
                             Style="{StaticResource TopNavMainButton}"
                             GroupName="MainMenu"
                             Checked="MainMenu_Checked"
                             Tag="1">
                  <StackPanel Margin="0,20">
                    <TextBlock Style="{StaticResource IconXXL}"
                               Text="&#xe1a0;"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="{DynamicResource Nav.Connections}"
                               FontWeight="SemiBold"
                               FontSize="{StaticResource FontSizeM}"
                               Margin="0,6,0,0"
                               HorizontalAlignment="Center"/>
                  </StackPanel>
                </RadioButton>

                <RadioButton x:Name="MainNavSettings"
                             Style="{StaticResource TopNavMainButton}"
                             BorderThickness="0"
                             GroupName="MainMenu"
                             Checked="MainMenu_Checked"
                             Tag="4">
                  <StackPanel Margin="0,20">
                    <TextBlock Style="{StaticResource IconXXL}"
                               Text="&#xe8b8;"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="{DynamicResource Nav.Settings}"
                               FontWeight="SemiBold"
                               FontSize="{StaticResource FontSizeM}"
                               Margin="0,6,0,0"
                               HorizontalAlignment="Center"/>
                  </StackPanel>
                </RadioButton>
              </StackPanel>

              <Border Grid.Column="1"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Right"
                      Margin="0,0,16,0"
                      Padding="14,16"
                      CornerRadius="{StaticResource RadiusS}">
                <StackPanel Orientation="Vertical">
                  <TextBlock x:Name="WhisperHeaderStatusTextBlock"
                             Style="{StaticResource HeaderStatusTextStyle}"/>
                  <TextBlock x:Name="WhisperHeaderStatusLinkTextBlock"
                             Style="{StaticResource HeaderStatusTextStyle}"
                             Visibility="Collapsed">
                    <Run x:Name="WhisperHeaderLabelRun"
                         Text=""/>
                    <Run Text=": "/>
                    <Hyperlink Click="WhisperHeaderNotInstalled_Click"
                               Foreground="{StaticResource TextPrimaryBrush}">
                      <Run x:Name="WhisperHeaderStatusLinkRun"
                           Text=""/>
                    </Hyperlink>
                  </TextBlock>

                  <TextBlock x:Name="LlmHeaderStatusTextBlock"
                             Style="{StaticResource HeaderStatusTextStyle}"
                             Margin="0,4,0,0"/>
                  <TextBlock x:Name="LlmHeaderStatusLinkTextBlock"
                             Style="{StaticResource HeaderStatusTextStyle}"
                             Visibility="Collapsed"
                             Margin="0,4,0,0">
                    <Run x:Name="LlmHeaderLabelRun"
                         Text=""/>
                    <Run Text=": "/>
                    <Hyperlink Click="LlmHeaderNotInstalled_Click"
                               Foreground="{StaticResource TextPrimaryBrush}">
                      <Run x:Name="LlmHeaderStatusLinkRun"
                           Text=""/>
                    </Hyperlink>
                  </TextBlock>

                  <ComboBox x:Name="HeaderLanguageComboBox"
                            Width="140"
                            Height="26"
                            Margin="0,8,0,0"
                            HorizontalAlignment="Right"
                            SelectionChanged="HeaderLanguageComboBox_SelectionChanged">
                    <ComboBox.ItemTemplate>
                      <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                          <Image Source="{Binding Code, Converter={StaticResource LanguageCodeToFlagEmojiConverter}}"
                                 Width="18"
                                 Height="12"
                                 Margin="0,0,6,0"/>
                          <TextBlock Text="{Binding DisplayName}"
                                     FontSize="{StaticResource FontSizeS}"/>
                        </StackPanel>
                      </DataTemplate>
                    </ComboBox.ItemTemplate>
                  </ComboBox>
                </StackPanel>
              </Border>

              <StackPanel Grid.Column="2"
                          Orientation="Horizontal"
                          VerticalAlignment="Top"
                          Margin="0,12,12,0">
                <Button x:Name="MinimizeButton"
                        Style="{StaticResource TitleBarButtonStyle}"
                        Margin="0"
                        Padding="0"
                        Click="MinimizeButton_Click">
                  <TextBlock Style="{StaticResource IconL}"
                             Text="&#xe931;"
                             Margin="0"
                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
                </Button>
                <Button x:Name="MaximizeButton"
                        Style="{StaticResource TitleBarButtonStyle}"
                        Margin="0"
                        Padding="0"
                        Click="MaximizeButton_Click">
                  <TextBlock x:Name="MaximizeIconTextBlock"
                             Style="{StaticResource IconL}"
                             Text="&#xea10;"
                             Margin="0"
                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
                </Button>
                <Button x:Name="CloseButton"
                        Style="{StaticResource TitleBarCloseButtonStyle}"
                        Margin="0"
                        Padding="0"
                        Click="CloseButton_Click">
                  <TextBlock Style="{StaticResource IconL}"
                             Text="&#xe5cd;"
                             Margin="0"
                             Foreground="{Binding Foreground, RelativeSource={RelativeSource AncestorType=Button}}"/>
                </Button>
              </StackPanel>
            </Grid>

            <Border Grid.Row="1"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="0,1,0,0">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*"/>
                  <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel x:Name="UploadsSubMenuPanel"
                            Grid.Column="0"
                            Orientation="Horizontal"
                            Margin="0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Stretch">
                  <RadioButton x:Name="NavUpload"
                               Style="{StaticResource TopNavSubButton}"
                               GroupName="UploadsSubMenu"
                               IsChecked="True"
                               Checked="NavButton_Checked"
                               Tag="0">
                    <TextBlock Text="{DynamicResource Nav.Files}"
                               HorizontalAlignment="Center"/>
                  </RadioButton>
                  <RadioButton x:Name="NavPresets"
                               Style="{StaticResource TopNavSubButton}"
                               GroupName="UploadsSubMenu"
                               Checked="NavButton_Checked"
                               Tag="2">
                    <TextBlock Text="{DynamicResource Nav.Presets}"
                               HorizontalAlignment="Center"/>
                  </RadioButton>
                  <RadioButton x:Name="NavHistory"
                               Style="{StaticResource TopNavSubButton}"
                               GroupName="UploadsSubMenu"
                               Checked="NavButton_Checked"
                               Tag="3">
                    <TextBlock Text="{DynamicResource Nav.History}"
                               HorizontalAlignment="Center"/>
                  </RadioButton>
                </StackPanel>

                <StackPanel x:Name="ConnectionsSubMenuPanel"
                            Grid.Column="0"
                            Orientation="Horizontal"
                            Margin="0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Stretch"
                            Visibility="Collapsed">
                  <RadioButton x:Name="NavConnections"
                               Style="{StaticResource TopNavSubButton}"
                               GroupName="ConnectionsSubMenu"
                               Checked="NavButton_Checked"
                               Tag="1">
                    <TextBlock Text="{DynamicResource Nav.Connections}"
                               HorizontalAlignment="Center"/>
                  </RadioButton>
                  <RadioButton x:Name="NavChannelProfile"
                               Style="{StaticResource TopNavSubButton}"
                               GroupName="ConnectionsSubMenu"
                               Checked="NavButton_Checked"
                               Tag="6">
                    <TextBlock Text="{DynamicResource Nav.ChannelProfile}"
                               HorizontalAlignment="Center"/>
                  </RadioButton>
                </StackPanel>

                <StackPanel x:Name="SettingsSubMenuPanel"
                            Grid.Column="0"
                            Orientation="Horizontal"
                            Margin="0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Stretch"
                            Visibility="Collapsed">
                  <RadioButton x:Name="NavSettingsGeneral"
                               Style="{StaticResource TopNavSubButton}"
                               GroupName="SettingsSubMenu"
                               Checked="NavButton_Checked"
                               Tag="4">
                    <TextBlock Text="{DynamicResource Nav.Settings.General}"
                               HorizontalAlignment="Center"/>
                  </RadioButton>
                  <RadioButton x:Name="NavSettingsLlm"
                               Style="{StaticResource TopNavSubButton}"
                               GroupName="SettingsSubMenu"
                               Checked="NavButton_Checked"
                               Tag="5">
                    <TextBlock Text="{DynamicResource Nav.Settings.Llm}"
                               HorizontalAlignment="Center"/>
                  </RadioButton>
                </StackPanel>
                <StackPanel Grid.Column="1"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Margin="12,0,12,0">
                  <!-- Auto-Save Indicator -->
                  <Border x:Name="SaveIndicatorBorder"
                          Style="{StaticResource SaveIndicatorContainer}"
                          Visibility="Collapsed"
                          Margin="0,0,16,0">
                    <StackPanel Orientation="Horizontal">
                      <TextBlock x:Name="SaveIndicatorIcon"
                                 Style="{StaticResource SaveIndicatorIcon}"
                                 Text="&#xe161;"
                                 Foreground="{StaticResource TextMutedBrush}"/>
                      <TextBlock x:Name="SaveIndicatorText"
                                 Style="{StaticResource SaveIndicatorText}"
                                 Text="{DynamicResource Status.Saving}"
                                 Foreground="{StaticResource TextMutedBrush}"/>
                    </StackPanel>
                  </Border>
                  <TextBlock Text="{DynamicResource Status}"
                             Foreground="{StaticResource TextMutedBrush}"
                             FontSize="{StaticResource FontSizeS}"
                             Margin="0,0,6,0"/>
                  <TextBlock x:Name="StatusTextBlock"
                             Text="{DynamicResource Status.Ready}"
                             Foreground="{StaticResource TextPrimaryBrush}"
                             FontSize="{StaticResource FontSizeS}"
                             FontWeight="SemiBold"/>
                  <ProgressBar x:Name="UploadProgressBar"
                               Width="120"
                               Height="10"
                               Minimum="0"
                               Maximum="100"
                               Value="0"
                               Visibility="Collapsed"
                               Margin="10,0,6,0"/>
                  <TextBlock x:Name="UploadProgressLabel"
                             VerticalAlignment="Center"
                             Foreground="{StaticResource TextMutedBrush}"
                             FontSize="{StaticResource FontSizeXS}"
                             Text=""
                             Visibility="Collapsed"/>
                  <TextBlock x:Name="LogLinkTextBlock"
                             FontSize="{StaticResource FontSizeM}"
                             Cursor="Hand"
                             MouseLeftButtonDown="LogLink_Click"
                             ToolTip="{DynamicResource Log.Link.Tooltip}"
                             Margin="14,0,0,0">
                    <TextBlock.Style>
                      <Style TargetType="TextBlock">
                        <Setter Property="Foreground"
                                Value="{StaticResource TextMutedBrush}"/>
                        <Setter Property="Text"
                                Value="{DynamicResource Log.Link.Default}"/>
                        <Style.Triggers>
                          <Trigger Property="IsMouseOver"
                                   Value="True">
                            <Setter Property="Foreground"
                                    Value="{StaticResource PrimaryBrush}"/>
                          </Trigger>
                        </Style.Triggers>
                      </Style>
                    </TextBlock.Style>
                  </TextBlock>
                </StackPanel>
              </Grid>
            </Border>
          </Grid>
        </Grid>
      </Border>

      <!-- Page Header -->
      <Border Grid.Row="1"
              Background="{StaticResource SurfaceSunkenBrush}"
              BorderBrush="{StaticResource BorderBrush}"
              BorderThickness="0"
              Padding="16,14">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>

          <StackPanel Grid.Column="0">
            <TextBlock x:Name="PageTitleTextBlock"
                       Style="{StaticResource PageTitleStyle}"
                       Text="{DynamicResource Nav.Uploads}"/>
            <TextBlock x:Name="PageContextTextBlock"
                       Style="{StaticResource PageContextStyle}"
                       Text=""/>
          </StackPanel>

          <Grid Grid.Column="1"
                HorizontalAlignment="Right"
                VerticalAlignment="Center">
            <StackPanel x:Name="PageActionsUpload"
                        Orientation="Horizontal"
                        Visibility="Visible">
              <Button x:Name="AddVideosActionButton"
                      Content="{DynamicResource Upload.Actions.AddVideos}"
                      Style="{StaticResource SecondaryButton}"
                      ap:ButtonIcon.Glyph="&#xe145;"
                      Click="AddVideosButton_Click"
                      Margin="0,0,8,0"/>
              <Button x:Name="UploadAllActionButton"
                      Content="{DynamicResource Upload.Actions.UploadAll}"
                      Style="{StaticResource PrimaryButton}"
                      ap:ButtonIcon.Glyph="&#xeb9b;"
                      Click="UploadAllButton_Click"
                      Margin="0,0,8,0"/>
            </StackPanel>

            <StackPanel x:Name="PageActionsAccounts"
                        Orientation="Horizontal"
                        Visibility="Collapsed">
              <Button Content="{DynamicResource Accounts.YouTube.Connect}"
                      Style="{StaticResource PrimaryButton}"
                      ap:ButtonIcon.Glyph="&#xe157;"
                      Click="YouTubeConnectButton_Click"
                      Margin="0,0,8,0"/>
              <Button Content="{DynamicResource Accounts.YouTube.Disconnect}"
                      Style="{StaticResource SecondaryButton}"
                      ap:ButtonIcon.Glyph="&#xe16f;"
                      Click="YouTubeDisconnectButton_Click"
                      />
            </StackPanel>

            <StackPanel x:Name="PageActionsChannelProfile"
                        Orientation="Horizontal"
                        Visibility="Collapsed">
              <Button Content="{DynamicResource Common.Save}"
                      Style="{StaticResource PrimaryButton}"
                      ap:ButtonIcon.Glyph="&#xe161;"
                      Click="ChannelProfileSaveButton_Click"
                      />
            </StackPanel>

            <StackPanel x:Name="PageActionsPresets"
                        Orientation="Horizontal"
                        Visibility="Collapsed">
              <Button Content="{DynamicResource Common.Add}"
                      Style="{StaticResource SecondaryButton}"
                      ap:ButtonIcon.Glyph="&#xe145;"
                      Click="PresetNewButton_Click"
                      Margin="0,0,8,0"/>
              <Button Content="{DynamicResource Common.Edit}"
                      Style="{StaticResource SecondaryButton}"
                      ap:ButtonIcon.Glyph="&#xe3c9;"
                      Click="PresetEditButton_Click"
                      Margin="0,0,8,0"/>
              <Button Content="{DynamicResource Common.Delete}"
                      Style="{StaticResource DangerButton}"
                      ap:ButtonIcon.Glyph="&#xe872;"
                      Click="PresetDeleteButton_Click"
                      Margin="0,0,8,0"/>
              <Button Content="{DynamicResource Common.Save}"
                      Style="{StaticResource PrimaryButton}"
                      ap:ButtonIcon.Glyph="&#xe161;"
                      Click="PresetSaveButton_Click"
                      />
            </StackPanel>

            <StackPanel x:Name="PageActionsHistory"
                        Orientation="Horizontal"
                        Visibility="Collapsed">
              <Button Content="{DynamicResource History.ClearList}"
                      Style="{StaticResource DangerButton}"
                      ap:ButtonIcon.Glyph="&#xe872;"
                      Click="HistoryClearAction_Click"
                      Margin="0,0,8,0"/>
              <Button Content="{DynamicResource Common.Open}"
                      Style="{StaticResource PrimaryButton}"
                      ap:ButtonIcon.Glyph="&#xe89e;"
                      Click="HistoryOpenSelectedAction_Click"
                      />
            </StackPanel>

            <StackPanel x:Name="PageActionsGeneralSettings"
                        Orientation="Horizontal"
                        Visibility="Collapsed">
              <Button Content="{DynamicResource Settings.SaveAll}"
                      Style="{StaticResource PrimaryButton}"
                      ap:ButtonIcon.Glyph="&#xe161;"
                      Click="SettingsSaveButton_Click"
                      />
            </StackPanel>

            <StackPanel x:Name="PageActionsLlmSettings"
                        Orientation="Horizontal"
                        Visibility="Collapsed">
              <Button Content="{DynamicResource Settings.SaveAll}"
                      Style="{StaticResource PrimaryButton}"
                      ap:ButtonIcon.Glyph="&#xe161;"
                      Click="SettingsSaveButton_Click"
                      />
            </StackPanel>
          </Grid>
        </Grid>
      </Border>

      <!-- Content Pages -->
      <Grid Grid.Row="2"
            Margin="{StaticResource ContentPadding}">

        <!-- Page 0: Neuer Upload -->
        <ScrollViewer x:Name="PageUpload"
                      VerticalScrollBarVisibility="Disabled"
                      HorizontalScrollBarVisibility="Disabled"
                      Visibility="Visible">
          <views:UploadView x:Name="UploadPageView"/>
        </ScrollViewer>

        <!-- Page 1: Connections -->
        <ScrollViewer x:Name="PageAccounts"
                      VerticalScrollBarVisibility="Auto"
                      Visibility="Collapsed">
          <views:AccountsView x:Name="AccountsPageView"/>
        </ScrollViewer>

        <!-- Page 6: Channel Profile -->
        <ScrollViewer x:Name="PageChannelProfile"
                      VerticalScrollBarVisibility="Auto"
                      Visibility="Collapsed">
          <views:ChannelView x:Name="ChannelProfilePageView"/>
        </ScrollViewer>

        <!-- Page 2: Presets -->
        <Grid x:Name="PagePresets"
              Visibility="Collapsed">
          <views:PresetsView x:Name="PresetsPageView"/>
        </Grid>

        <!-- Page 3: Historie -->
        <Grid x:Name="PageHistory"
              Visibility="Collapsed">
          <views:HistoryView x:Name="HistoryPageView"/>
        </Grid>

        <!-- Page 4: Allgemeine Einstellungen -->
        <ScrollViewer x:Name="PageGeneralSettings"
                      VerticalScrollBarVisibility="Auto"
                      Visibility="Collapsed">
          <views:GeneralSettingsView x:Name="GeneralSettingsPageView"/>
        </ScrollViewer>

        <!-- Page 5: LLM Einstellungen -->
        <ScrollViewer x:Name="PageLlmSettings"
                      VerticalScrollBarVisibility="Auto"
                      Visibility="Collapsed">
          <views:LlmSettingsView x:Name="LlmSettingsPageView"/>
        </ScrollViewer>
      </Grid>

      <!-- Footer Bar -->
      <Border Grid.Row="3"
              Background="{StaticResource SurfaceElevatedBrush}"
              BorderBrush="{StaticResource BorderBrush}"
              BorderThickness="0,1,0,0"
              Padding="16,6">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>

          <StackPanel Grid.Column="0"
                      Orientation="Horizontal"
                      HorizontalAlignment="Left">
            <TextBlock Text="{DynamicResource App.Copyright}"
                       FontSize="{StaticResource FontSizeXS}"
                       Foreground="{StaticResource TextMutedBrush}"
                       VerticalAlignment="Center"/>
            <TextBlock FontSize="{StaticResource FontSizeXS}"
                       Margin="10,0,0,0"
                       VerticalAlignment="Center">
              <Hyperlink NavigateUri="https://github.com/dabinuss/Dabis-Content-Manager"
                         RequestNavigate="OpenUrlInBrowser"
                         Foreground="{StaticResource PrimaryBrush}">
                <Run Text="{DynamicResource App.Github}"/>
              </Hyperlink>
            </TextBlock>
            <TextBlock FontSize="{StaticResource FontSizeXS}"
                       Margin="10,0,0,0"
                       VerticalAlignment="Center">
              <Hyperlink Click="SetupAssistantLink_Click"
                         Foreground="{StaticResource PrimaryBrush}">
                <Run Text="{DynamicResource App.SetupAssistant}"/>
              </Hyperlink>
            </TextBlock>
          </StackPanel>
        </Grid>
      </Border>
    </Grid>
  </Border>
</Window>
